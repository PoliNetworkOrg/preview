{"version":3,"sources":["i18n.ts","utils/constants.ts","utils/database.ts","utils/style.ts","components/Util/Button.tsx","components/Util/GeneralPurposeCollapsible.tsx","components/Util/QuestionAttachments.tsx","components/Util/RenderedText.tsx","components/Util/Question.tsx","components/pages/DBPreview.tsx","components/ErrorView.tsx","utils/contexts.tsx","components/Footer.tsx","../public/logo3000.webp","components/Header.tsx","components/InfoView/ExtendedCorrection/DocumentHeader.tsx","static/firefox_1.png","static/firefox_2.png","static/firefox_3.png","components/InfoView/ExtendedCorrection/ExtendedCorrection.tsx","components/InfoView/InfoEnd.tsx","components/Util/Wrapper.tsx","components/InfoView/InfoStart.tsx","components/InfoView/InfoView.tsx","../public/telegram_logo.svg","components/pages/About.tsx","components/pages/License.tsx","components/pages/Privacy.tsx","components/QuestionsForm/AnswerForm.tsx","components/QuestionsForm/BottomControls.tsx","components/QuestionsForm/QuestionHeader.tsx","components/Util/CollapsibleText.tsx","components/QuestionsForm/QuestionView.tsx","components/QuestionsForm/RecapBar.tsx","components/QuestionsForm/SectionRecap.tsx","components/QuestionsForm/Timer.tsx","components/QuestionsForm/TopControls.tsx","components/QuestionsForm/QuestionsForm.tsx","components/Util/Separator.tsx","components/Util/Select.tsx","components/pages/QPreview.tsx","components/App.tsx","index.tsx"],"names":["i18n","use","LanguageDetector","initReactI18next","init","resources","en","translation","enLocale","it","itLocale","fallbackLng","detection","order","lookupLocalStorage","caches","links","sectionInfo","ing","name","sample","minutes","coeff","Fraction","mat","com","sub","fis","correctionWeight","getSectionName","key","members","tg","ah","prefix","sheetDict","quesiti_ING","quesiti_MAT","quesiti_COM","quesiti_FIS","readDatabase","a","ref","axios","get","data","db","meta","version","packageJson","Error","getImageURL","fileName","theme","baseStyle","fontFamily","color","StyleSheet","styles","fromEntries","Object","entries","map","value","reduce","acc","curr","formatNumber","num","addDecimals","parseFloat","round","toString","toLocaleString","minimumFractionDigits","maximumFractionDigits","replace","create","button","display","fontSize","alignItems","p","marginBlock","margin","icon","leftIcon","compose","this","float","marginRight","rightIcon","Button","props","style","onClick","label","outerDiv","collapsible","background","GeneralPurposeCollapsible","useState","startOpen","isOpen","setOpen","outerDivStyle","trigger","open","onOpen","onClose","easing","contentStyle","children","container","flexDirection","padding","gap","attachment","image","maxHeight","maxWidth","objectFit","QuestionAttachments","q","dbRef","attachments","length","index","src","RenderedText","text","question","option","result","textDecoration","paddingTop","TickSign","CrossSign","Question","isDebug","choice","isTest","showAttachments","id","valid","undefined","validated","String","correct","answers","letter","isCorrect","visibility","toUpperCase","ul","paddingLeft","DBPreview","filter","questions","ErrorView","hidden","internal","MobileContext","createContext","mobile","TestContext","isDsa","toggleDsa","TestProvider","setIsDsa","STORAGE_DSA_KEY","useEffect","localValue","localStorage","getItem","JSON","parse","date","sixMonthsAgo","Date","setMonth","getMonth","isDateOlderThanSixMonths","removeItem","Provider","prev","setItem","stringify","justifyContent","paddingInline","link","flex","textAlign","mobileStyles","paddingBottom","Footer","useContext","linkStyle","className","href","target","rel","to","e","view","preventDefault","window","location","reload","div","height","centeredText","logoDiv","logo","col","Header","viewState","useTranslation","resolvedLanguage","lang","setLang","pointerEvents","startsWith","alt","onChange","changeLanguage","rightText","logoLink","DocumentHeader","doc","printButton","alignSelf","centered","li","listStyleType","ol","img","marginTop","marginBottom","width","nowrap","whiteSpace","ExtendedCorrection","createRef","resultsDate","printSupported","browser","userAgent","navigator","includes","getTitle","document","title","documentTitle","content","current","onAfterPrint","onbeforeunload","FirefoxInstructions","FallbackInstructions","PrintDocument","resultTable","docStyles","firstPage","forwardRef","dateTime","toLocaleDateString","toLocaleTimeString","timeStyle","sort","b","section","values","find","firefoxImg1","firefoxImg2","firefoxImg3","displayName","tableDiv","overflow","table","borderSpacing","tableCell","border","tableHeader","fontWeight","backgroundColor","h3","restartDiv","restartTitle","restartButton","InfoEnd","correctionGrid","secQuestions","notGiven","wrong","forEach","answer","total","weight","score","mul","correction","add","testPassed","parseInt","tengPassed","info","toFraction","wrapper","h2","Wrapper","buttonDiv","InfoStart","startTest","t","htmlFor","userSelect","type","checked","transitionTime","InfoView","setView","useLocation","navigate","useNavigate","pathname","PanelBear","track","liDiv","telegramLink","telegramLogo","About","m","i","paddingBlock","licenseImg","borderWidth","marginLeft","License","components","property","network","cc4","githubLicense","Link","Privacy","trackerLink","baseText","radioText","verticalAlign","radioSpan","AnswerForm","letterState","tmpAnswerState","currentQuestion","RadioRow","c","d","event","controlsDiv","BottomControls","tmpFlaggedState","flagged","setFlagged","updateAnswer","leftContainer","rightContainer","minWidth","answerLetter","marginInline","boxShadow","QuestionHeader","questionIndex","currentAnswer","shiftQuestionIndex","innerP","CollapsibleText","longText","trim","split","QuestionView","bordered","borderBottom","barContainer","boxSizing","bar","cellContainer","alignContent","cellSub","selectedCell","outline","RecapBar","sectionQuestions","active","sectionAnswers","AnswerCell","currentQuestionIndexState","selected","SectionRecap","secondsUsed","seconds","displayTime","Math","max","goToNextSection","time","floor","minimumIntegerDigits","clockWrapper","numbers","borderRadius","expiring","wordWrap","Timer","timer","hours","innerDiv","TopControls","currentSection","closeSection","testing","QuestionsForm","minutesCoeff","qIndex","originalSetQIndex","alertDisplayedState","sectionState","setSection","answersState","setAnswers","timeRecordState","timeRecord","setTimeRecord","shouldShowAlert","recapBarElement","getElementById","clientWidth","maxScroll","minScroll","scrollLeft","showAlert","alert","setQIndex","nextAnswers","nextTR","restart","ignoreAlert","next","shiftQIndex","offset","useTimer","expiryTimestamp","getTimerExpDate","onExpire","nextSection","sortedInfo","findIndex","getNextSection","getViewElement","res","setSeconds","getSeconds","Separator","select","Select","defaultValue","setValue","newValue","disabled","entry","QPreview","isCustom","setIsCustom","v","CustomQ","DatabaseQ","setDbRef","dbs","setDbs","setID","then","catch","QuestionRender","s","setText","setA","setB","setC","setD","setE","f","app","routeContainer","App","database","loadDatabase","setQuestions","loadingError","showError","setMobile","validQuestions","resIds","_","shuffle","uniq","slice","selectRandomQuestions","innerWidth","addEventListener","URL","hostname","path","element","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.b6de8434.chunk.js","sourcesContent":["import i18n from 'i18next'\nimport { initReactI18next } from 'react-i18next'\nimport LanguageDetector from 'i18next-browser-languagedetector'\n\nimport enLocale from './locales/en.json'\nimport itLocale from './locales/it.json'\n\ni18n\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init({\n    resources: {\n      en: {\n        translation: enLocale\n      },\n      it: {\n        translation: itLocale\n      }\n    },\n    fallbackLng: 'it',\n    detection: {\n      order: ['localStorage', 'navigator', 'htmlTag'],\n      lookupLocalStorage: 'tol_i18n_lng',\n      caches: ['localStorage']\n    }\n  })\n\nexport default i18n\n","import { section } from './database'\nimport Fraction from 'fraction.js'\n\nexport const links = {\n  githubLicense:\n    'https://github.com/PoliNetworkOrg/TheTOLProject/blob/main/LICENSE',\n  githubSource: 'https://github.com/PoliNetworkOrg/TheTOLProject/',\n  polinetwork: 'https://polinetwork.org',\n  privacyPanelbear: 'https://panelbear.com/cookie-free-analytics/',\n  telegramPreparazioneTOL: 'https://t.me/joinchat/_zugEikozmcyMzA0',\n  telegramTheTOLProject: 'https://t.me/+amLdTd-EoHw1MWRk',\n  localStorageMDN:\n    'https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage'\n}\n\ninterface sectionInfoElement {\n  /** The readable name of the section */\n  name: string\n  /** The order in which the section should be tested */\n  order: number\n  /** The number of questions that should be selected */\n  sample: number\n  /** The number of sub-questions that should be selected (only applies to 'com') */\n  sub?: number\n  /** The maximum number of minutes that the user can use to complete a section */\n  minutes: number\n  /** The weight that this section's score has on the total score ({@link testTotalScore}) */\n  coeff: number | Fraction\n}\n\nexport const sectionInfo: Record<section, sectionInfoElement> = {\n  ing: {\n    name: 'Inglese',\n    order: 1,\n    sample: 30,\n    minutes: 15,\n    coeff: new Fraction('1/3')\n  },\n  mat: {\n    name: 'Matematica',\n    order: 2,\n    sample: 25,\n    minutes: 65,\n    coeff: 2.6\n  },\n  com: {\n    name: 'Comprensione verbale',\n    order: 3,\n    sample: 1,\n    sub: 5,\n    minutes: 10,\n    coeff: 3\n  },\n  fis: {\n    name: 'Fisica',\n    order: 4,\n    sample: 5,\n    minutes: 10,\n    coeff: 2\n  }\n}\n\nexport const DSATimeModifier = 1.3\n\nexport const testTotalScore = 100\n/** Minimum score to pass the test */\nexport const testPassThreshold = 60\n/** Minimum number of correct questions to pass the test */\nexport const tengPassThreshold = 24\n/** How to weight answer when calculating the section score */\nexport const correctionWeight = {\n  correct: 1,\n  wrong: -0.25,\n  notGiven: 0\n}\n\nexport function getSectionName(key: section) {\n  return sectionInfo[key].name\n}\n\nexport function getNextSection(currentSection: section): section | undefined {\n  const sortedInfo = Object.entries(sectionInfo).sort(\n    (a, b) => a[1].order - b[1].order\n  ) as [section, sectionInfoElement][]\n  const i = sortedInfo.findIndex((e) => e[0] == currentSection)\n  return (sortedInfo[i + 1] || [])[0]\n}\n\ninterface Member {\n  name: string\n  tg: string\n  ah?: boolean\n  prefix?: string\n}\n\nexport const members: Member[] = [\n  {\n    name: 'Gabriele Zanini',\n    tg: 'zagbc'\n  },\n  {\n    name: 'Federico Grandi',\n    tg: 'federico_grandi'\n  },\n  {\n    name: 'Ilaria Corcelli',\n    tg: 'iilaria01'\n  },\n  {\n    name: 'Matteo Salicandro',\n    tg: 'Mattysal'\n  },\n  {\n    name: 'Nicolas Facchin',\n    tg: 'RollyNoka'\n  },\n  {\n    name: 'Elia Maggioni',\n    tg: 'EliaMaggioni',\n    ah: true\n  },\n  {\n    name: 'Diego Aldarese',\n    tg: 'diegoaldarese',\n    ah: true\n  },\n  {\n    name: 'Tommaso Morganti',\n    tg: 'toto04_1'\n  },\n  {\n    name: 'Giovanni Menicucci',\n    tg: 'giova1211'\n  },\n  {\n    name: 'Nadia Scappini',\n    tg: 'nscapp',\n    prefix: 'Prof.ssa'\n  },\n  {\n    name: '@spyarect',\n    tg: 'spyarect',\n    ah: true\n  },\n  {\n    name: 'Clelia Di Leo',\n    tg: 'cloelia',\n    prefix: 'Prof.ssa'\n  }\n]\n","import axios from 'axios'\nimport fromEntries from 'fromentries'\nimport _ from 'underscore'\nimport packageJson from '../../package.json'\nimport { sectionInfo } from './constants'\n\nexport const sheetDict = {\n  quesiti_ING: 'ing',\n  quesiti_MAT: 'mat',\n  quesiti_COM: 'com',\n  quesiti_FIS: 'fis'\n} as const\nexport type section = typeof sheetDict[keyof typeof sheetDict]\n\nexport type answerLetter = 'a' | 'b' | 'c' | 'd' | 'e'\n\nexport interface Question {\n  id: string\n  text: string\n  answers: Record<answerLetter, string>\n  correct: answerLetter\n  attachments: string[]\n  validated: boolean\n\n  // These are only present for COM questions\n  sub?: string\n  track?: string\n}\n\nexport type QuestionsData = Record<section, Question[]>\n\nexport interface Database extends QuestionsData {\n  meta: {\n    version: string\n  }\n}\n\nexport async function readDatabase(ref = 'stable') {\n  const db = (\n    await axios.get(\n      `https://raw.githubusercontent.com/PoliNetworkOrg/TheTOLProjectData/${ref}/database.json`\n    )\n  )?.data as Database\n\n  if (db?.meta?.version != packageJson.version)\n    throw new Error(\n      `Database version doesn't match application.\\nDatabase: ${db?.meta?.version}\\nApp: ${packageJson.version}`\n    )\n\n  return db\n}\n\nexport function selectRandomQuestions(db: Database): QuestionsData {\n  return fromEntries(\n    // Manipulate db entries\n    (Object.entries(db) as [section /* or \"meta\" */, Question[]][])\n      // Select only entries associated with a section <=> exclude \"meta\"\n      .filter(([key]) => (Object.values(sheetDict) as string[]).includes(key))\n      .map(([key, questions]) => {\n        // Select only validated questions\n        const validQuestions = questions.filter((q) => q.validated)\n\n        // Get the question ids, remove duplicates, shuffle them, and select the appropriate number of questions.\n        const resIds = _.shuffle(_.uniq(validQuestions.map((v) => v.id))).slice(\n          0,\n          sectionInfo[key].sample\n        )\n\n        // Return only the questions with a selected ID\n        return [\n          key,\n          _.shuffle(validQuestions.filter((q) => resIds.includes(q.id)))\n        ]\n      })\n  ) as QuestionsData\n}\n\nexport function getImageURL(fileName: string, ref = 'stable') {\n  return `https://raw.githubusercontent.com/PoliNetworkOrg/TheTOLProjectData/${ref}/img/${fileName}`\n}\n","import Fraction from 'fraction.js'\nimport fromEntries from 'fromentries'\n\nexport const theme = {\n  boxShadow:\n    '1px 0 0 0 #606060, 0 1px 0 0 #606060, 1px 1px 0 0 #606060, /* corner */ 1px 0 0 0 #606060 inset, 0 1px 0 0 #606060 inset',\n  lightBackground: '#F3F3EE',\n  lightBorder: '#D5DFE4',\n  primary: '#069',\n  questionYellow: 'yellow',\n  questionGreen: '#00D700',\n  softBlack: '#333',\n  timerGreen: '#009527',\n  timerRed: 'red'\n}\n\nexport const baseStyle: React.CSSProperties = {\n  fontFamily: 'Verdana, Roboto',\n  color: theme.softBlack\n}\n\ntype CSSProperties = {\n  [key: string]: React.CSSProperties\n}\n\n/** Basic implementation of the StyleSheet class present in React Native */\nexport class StyleSheet {\n  static create<Styles extends CSSProperties>(styles: Styles): Styles {\n    return fromEntries(\n      Object.entries(styles).map(([key, value]) => [\n        key,\n        { ...baseStyle, ...value }\n      ])\n    ) as Styles\n  }\n\n  static compose(\n    ...styles: (React.CSSProperties | undefined | false)[]\n  ): React.CSSProperties {\n    return styles.reduce(\n      (acc, curr) => ({ ...acc, ...(curr || {}) }),\n      {}\n    ) as React.CSSProperties\n  }\n}\n\nexport function formatNumber(num: number | Fraction, addDecimals = false) {\n  return (\n    typeof num == 'number'\n      ? num\n      : parseFloat(num.round(addDecimals ? 2 : 0).toString())\n  )\n    .toLocaleString('it-IT', {\n      minimumFractionDigits: addDecimals ? 2 : 0,\n      maximumFractionDigits: 2\n    })\n    .replace(/\\./g, ',')\n}\n","import { StyleSheet } from '../../utils/style'\n\nconst styles = StyleSheet.create({\n  button: {\n    display: 'flex',\n    fontFamily: ' Arial',\n    fontSize: '9.5pt',\n    alignItems: 'center'\n  },\n  p: {\n    display: 'inline-block',\n    marginBlock: 0,\n    margin: 0,\n    fontFamily: 'Arial'\n  },\n  icon: {\n    display: 'flex'\n  },\n  get leftIcon() {\n    return StyleSheet.compose(this.icon, {\n      float: 'left',\n      marginRight: '2px'\n    })\n  },\n  get rightIcon() {\n    return StyleSheet.compose(this.icon, {\n      float: 'right',\n      marginRight: '2px'\n    })\n  }\n})\n\ninterface ButtonProps {\n  label: string\n  onClick?: () => void\n  style?: React.CSSProperties\n  leftIcon?: () => JSX.Element\n  rightIcon?: () => JSX.Element\n}\n\nexport default function Button(props: ButtonProps) {\n  return (\n    <button\n      style={StyleSheet.compose(styles.button, props.style || {})}\n      onClick={props.onClick}\n    >\n      <span style={styles.leftIcon}>{props.leftIcon && props.leftIcon()}</span>\n      <p style={styles.p}>{props.label}</p>\n      <span style={styles.rightIcon}>\n        {props.rightIcon && props.rightIcon()}\n      </span>\n    </button>\n  )\n}\n","import { ReactNode, useState } from 'react'\nimport Collapsible from 'react-collapsible'\nimport { StyleSheet, theme } from '../../utils/style'\nimport Button from './Button'\n\nconst styles = StyleSheet.create({\n  outerDiv: {\n    margin: '10px'\n  },\n  collapsible: {\n    background: theme.lightBackground,\n    margin: '5px'\n  }\n})\n\ninterface GeneralPurposeCollapsibleProps {\n  label: string\n  children: ReactNode\n  startOpen?: boolean\n  contentStyle?: React.CSSProperties\n  outerDivStyle?: React.CSSProperties\n  onOpen?: () => void\n  onClose?: () => void\n}\nexport default function GeneralPurposeCollapsible(\n  props: GeneralPurposeCollapsibleProps\n) {\n  const [isOpen, setOpen] = useState(props.startOpen ?? true)\n\n  return (\n    <div style={StyleSheet.compose(styles.outerDiv, props.outerDivStyle)}>\n      <Collapsible\n        trigger={\n          <Button label={props.label} onClick={() => setOpen(!isOpen)} />\n        }\n        open={isOpen}\n        onOpen={props.onOpen}\n        onClose={props.onClose}\n        easing=\"ease-in-out\"\n      >\n        <div style={StyleSheet.compose(styles.collapsible, props.contentStyle)}>\n          {props.children}\n        </div>\n      </Collapsible>\n    </div>\n  )\n}\n","import { getImageURL, Question } from '../../utils/database'\nimport { StyleSheet } from '../../utils/style'\nimport GeneralPurposeCollapsible from './GeneralPurposeCollapsible'\n\nconst styles = StyleSheet.create({\n  container: {\n    marginBlock: 0,\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  collapsible: {\n    padding: '10px',\n    display: 'flex',\n    flexDirection: 'column',\n    gap: '15px'\n  },\n  attachment: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'flex-start',\n    gap: '5px'\n  },\n  image: {\n    maxHeight: '500px',\n    maxWidth: '100%',\n    objectFit: 'contain'\n  }\n})\n\ninterface Props {\n  q: Question\n  dbRef: 'stable' | 'main'\n}\n\nexport default function QuestionAttachments({ q, dbRef }: Props) {\n  return (\n    <>\n      {q.attachments?.length && (\n        <GeneralPurposeCollapsible\n          label=\"mostra/nascondi immagini\"\n          startOpen={false}\n        >\n          {q.attachments.map((fileName, index) => (\n            <span key={index + 1} style={styles.attachment}>\n              <p style={styles.container}>Immagine {index + 1}:</p>\n              <img src={getImageURL(fileName, dbRef)} style={styles.image} />\n            </span>\n          ))}\n        </GeneralPurposeCollapsible>\n      )}\n    </>\n  )\n}\n","import Latex from 'react-latex'\n\ninterface RenderedTextProps {\n  text: string\n}\nexport default function RenderedText({ text }: RenderedTextProps) {\n  return <Latex>{text}</Latex>\n}\n","import { Question as IQuestion } from '../../utils/database'\nimport { StyleSheet } from '../../utils/style'\nimport QuestionAttachments from './QuestionAttachments'\nimport RenderedText from './RenderedText'\n\nconst styles = StyleSheet.create({\n  question: {\n    padding: 1\n  },\n  option: {\n    display: 'flex',\n    gap: 4,\n    margin: 4\n  },\n  result: {\n    textDecoration: 'underline',\n    paddingTop: 4,\n    display: 'block'\n  }\n})\n\nconst TickSign = () => <>&#10003;</>\nconst CrossSign = () => <>&#10007;</>\n\ninterface Props {\n  q: IQuestion\n  isDebug?: boolean\n  choice?: string\n  isTest?: boolean\n  showAttachments?: boolean\n  dbRef?: 'stable' | 'main'\n}\n\nexport default function Question({\n  q,\n  isDebug = false,\n  choice = '',\n  isTest = false,\n  showAttachments = false,\n  dbRef = 'stable'\n}: Props) {\n  const id = q.id && (q.sub ? `[${q.id}-${q.sub}] ` : `[${q.id}] `)\n  const valid = q.validated !== undefined && `Valid: ${String(q.validated)}`\n  let result = 'Senza risposta'\n  if (choice.length === 1) {\n    result = choice === q.correct ? 'Corretta' : 'Errata'\n  }\n\n  return (\n    <div style={styles.question}>\n      <p style={{ margin: 4 }}>\n        {isDebug && <span>{id}</span>}\n        <RenderedText text={q.text} />\n        {isTest && <span style={styles.result}>{result}</span>}\n      </p>\n      {showAttachments && <QuestionAttachments q={q} dbRef={dbRef} />}\n\n      {isDebug && <p>{valid}</p>}\n      {Object.entries(q.answers).map(([letter, text]) => {\n        const isCorrect = q.correct === letter\n        const visibility = isCorrect || choice === letter ? 'visible' : 'hidden'\n        return (\n          <p key={letter} style={styles.option}>\n            <span style={{ visibility }}>\n              {isCorrect ? <TickSign /> : <CrossSign />}\n            </span>\n            <span>{letter.toUpperCase()}. </span>\n            <RenderedText text={text} />\n          </p>\n        )\n      })}\n    </div>\n  )\n}\n","import { sectionInfo } from '../../utils/constants'\nimport { section, Database, Question as IQuestion } from '../../utils/database'\nimport { baseStyle, StyleSheet } from '../../utils/style'\nimport GeneralPurposeCollapsible from '../Util/GeneralPurposeCollapsible'\nimport Question from '../Util/Question'\n\nconst styles = StyleSheet.create({\n  ul: {\n    margin: 10,\n    paddingLeft: 16\n  }\n})\n\ninterface DBPreviewProps {\n  db?: Database\n}\n\nexport default function DBPreview({ db }: DBPreviewProps) {\n  return db ? (\n    <div>\n      {(\n        Object.entries(db).filter(([key]) => key != 'meta') as [\n          section,\n          IQuestion[]\n        ][]\n      ).map(([key, questions]) => (\n        <div key={key} style={baseStyle}>\n          <GeneralPurposeCollapsible\n            label={sectionInfo[key].name}\n            startOpen={false}\n          >\n            <ul style={styles.ul}>\n              {questions\n                .filter((q) => q.text || key == 'com')\n                .map((q) => (\n                  <li key={key + q.id + (q.sub || '')}>\n                    <Question q={q} isDebug={true} showAttachments />\n                  </li>\n                ))}\n            </ul>\n          </GeneralPurposeCollapsible>\n        </div>\n      ))}\n    </div>\n  ) : (\n    <div style={baseStyle}>Loading...</div>\n  )\n}\n","interface ErrorViewProps {\n  hidden: boolean\n  display: string\n  internal?: Error\n}\n\nexport default function ErrorView({\n  hidden,\n  display,\n  internal\n}: ErrorViewProps) {\n  return (\n    <div hidden={hidden}>\n      <h3>{display}</h3>\n      <blockquote>{internal + ''}</blockquote>\n    </div>\n  )\n}\n","import { createContext, useEffect, useState } from 'react'\n\nexport const MobileContext = createContext({\n  mobile: false\n})\n\ninterface ITestContext {\n  isDsa: boolean\n  toggleDsa: () => void\n}\nexport const TestContext = createContext<ITestContext>({\n  isDsa: false,\n  toggleDsa: () => {\n    // implemented in Provider\n  }\n})\n\nfunction isDateOlderThanSixMonths(date: Date): boolean {\n  const sixMonthsAgo = new Date()\n  sixMonthsAgo.setMonth(sixMonthsAgo.getMonth() - 6)\n\n  return date < sixMonthsAgo\n}\n\ntype TestProviderProps = React.HTMLAttributes<React.ProviderProps<ITestContext>>\nexport const TestProvider = (props: TestProviderProps) => {\n  const [isDsa, setIsDsa] = useState<boolean>(false)\n  const STORAGE_DSA_KEY = 'tol_is_dsa'\n\n  const toggleDsa = () => {\n    setIsDsa((prev) => {\n      const value = !prev\n      const date = new Date()\n      const data = { value, date }\n      localStorage.setItem(STORAGE_DSA_KEY, JSON.stringify(data))\n      return value\n    })\n  }\n\n  useEffect(() => {\n    const localValue = localStorage.getItem(STORAGE_DSA_KEY)\n    if (localValue === null) return\n    const { date, value } = JSON.parse(localValue)\n    const changeDate = new Date(date)\n    if (isDateOlderThanSixMonths(changeDate)) {\n      // the preference is older than 6 months ago, so it should be ignored and deleted\n      localStorage.removeItem(STORAGE_DSA_KEY)\n    } else {\n      // set the current value to saved one\n      setIsDsa(value)\n    }\n  }, [])\n\n  return <TestContext.Provider value={{ isDsa, toggleDsa }} {...props} />\n}\n","import { useContext } from 'react'\nimport { Link } from 'react-router-dom'\nimport { links } from '../utils/constants'\nimport { MobileContext } from '../utils/contexts'\nimport { StyleSheet, theme } from '../utils/style'\nimport { view } from './App'\n\nconst styles = StyleSheet.create({\n  container: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    paddingInline: '15em',\n    margin: '15px',\n    fontSize: '10pt',\n    color: theme.softBlack\n  },\n  link: {\n    display: 'flex',\n    flex: 1,\n    justifyContent: 'center',\n    textAlign: 'center',\n    color: 'inherit',\n    fontSize: '11pt',\n    alignItems: 'center'\n  }\n})\n\nconst mobileStyles = StyleSheet.create({\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingBottom: 16\n  },\n  link: StyleSheet.compose(styles.link, {\n    margin: 2\n  })\n})\n\nexport default function Footer(props: { view: view }) {\n  const { mobile } = useContext(MobileContext)\n  const linkStyle = mobile ? mobileStyles.link : styles.link\n  return (\n    <div\n      className=\"do-not-print\"\n      style={mobile ? mobileStyles.container : styles.container}\n    >\n      <a\n        href={links.githubSource}\n        style={linkStyle}\n        target=\"_blank\"\n        rel=\"noreferrer noopener\"\n      >\n        Source\n      </a>\n      <Link to=\"about\" style={linkStyle} replace>\n        About\n      </Link>\n      <Link\n        to=\"/\"\n        style={linkStyle}\n        onClick={(e) => {\n          if (props.view === 'INFO-end') {\n            // reload the page if we are in the recap, easier then resetting the state\n            e.preventDefault()\n            window.location.reload()\n          }\n        }}\n        replace\n      >\n        Home\n      </Link>\n      <Link to=\"license\" style={linkStyle} replace>\n        License\n      </Link>\n      <Link to=\"privacy\" style={linkStyle} replace>\n        Privacy & Cookies\n      </Link>\n    </div>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/logo3000.34b8e2e9.webp\";","import { useContext, useState } from 'react'\nimport { StyleSheet } from '../utils/style'\nimport { statePair } from '../utils/types'\nimport { view } from './App'\nimport logo from '../static/logo3000.webp'\nimport { links } from '../utils/constants'\nimport { MobileContext } from '../utils/contexts'\nimport { useTranslation } from 'react-i18next'\n\nconst styles = StyleSheet.create({\n  div: {\n    height: '70px',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between'\n  },\n  text: {\n    fontSize: '18pt'\n  },\n  get centeredText() {\n    return StyleSheet.compose(this.text, {\n      textAlign: 'center',\n      flex: 1\n    })\n  },\n  logoDiv: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: '10px',\n    margin: '5px',\n    textDecoration: 'none'\n  },\n  logo: {\n    height: '60px'\n  },\n  col: { flex: 1, display: 'flex' }\n})\n\ninterface HeaderProps {\n  viewState: statePair<view>\n}\n\nexport default function Header({ viewState }: HeaderProps) {\n  const { i18n } = useTranslation()\n  const { mobile } = useContext(MobileContext)\n  const [lang, setLang] = useState(i18n.resolvedLanguage)\n  const handleLanguageChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    const lang = e.target.value\n    i18n.changeLanguage(lang)\n    setLang(lang)\n  }\n\n  return (\n    <div className=\"do-not-print\" style={styles.div}>\n      <div style={styles.col}>\n        <a\n          style={{\n            ...styles.logoDiv,\n            // disable logo link when doing the test\n            pointerEvents: viewState[0].startsWith('TOL') ? 'none' : 'all'\n          }}\n          rel=\"noreferrer noopener\"\n          target=\"_blank\"\n          href={links.polinetwork}\n        >\n          <img src={logo} alt=\"logo\" style={styles.logo} />\n          {!mobile && <h1 style={styles.text}>PoliNetwork</h1>}\n        </a>\n      </div>\n\n      <div style={{ ...styles.col, flex: mobile ? 3 : 1 }}>\n        <h1 style={styles.centeredText}>The TOL Project</h1>\n      </div>\n\n      <div style={{ ...styles.col, justifyContent: 'flex-end' }}>\n        <select value={lang} onChange={handleLanguageChange}>\n          <option value=\"it\">IT</option>\n          <option value=\"en\">EN</option>\n        </select>\n      </div>\n    </div>\n  )\n}\n","import { StyleSheet } from '../../../utils/style'\nimport logo from '../../../static/logo3000.webp'\nimport { links } from '../../../utils/constants'\n\nconst styles = StyleSheet.create({\n  div: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between'\n  },\n  text: {\n    flex: 1,\n    fontSize: '18pt',\n    display: 'inline-block'\n  },\n  get rightText() {\n    return StyleSheet.compose(this.text, {\n      textAlign: 'right'\n    })\n  },\n  logoLink: {\n    flex: 1,\n    display: 'flex',\n    alignItems: 'center',\n    gap: '10px',\n    margin: '5px',\n    textDecoration: 'none'\n  },\n  logo: {\n    height: '60px'\n  }\n})\n\nexport default function DocumentHeader() {\n  return (\n    <div style={styles.div}>\n      <a\n        style={styles.logoLink}\n        rel=\"noreferrer noopener\"\n        target=\"_blank\"\n        href={links.polinetwork}\n      >\n        <img src={logo} alt=\"logo\" style={styles.logo} />\n        <h1 style={styles.text}>PoliNetwork</h1>\n      </a>\n      <h1 style={styles.rightText}>The TOL Project</h1>\n    </div>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/firefox_1.90eb3665.png\";","export default __webpack_public_path__ + \"static/media/firefox_2.b3e6c5bc.png\";","export default __webpack_public_path__ + \"static/media/firefox_3.d2388c27.png\";","import { createRef, forwardRef, ReactNode } from 'react'\nimport ReactToPrint from 'react-to-print'\nimport {\n  Question as IQuestion,\n  QuestionsData,\n  section\n} from '../../../utils/database'\nimport { AnswersData } from '../../App'\nimport { links, sectionInfo } from '../../../utils/constants'\nimport { StyleSheet, theme } from '../../../utils/style'\nimport Button from '../../Util/Button'\nimport './ExtendedCorrection.css'\nimport DocumentHeader from './DocumentHeader'\nimport firefoxImg1 from '../../../static/firefox_1.png'\nimport firefoxImg2 from '../../../static/firefox_2.png'\nimport firefoxImg3 from '../../../static/firefox_3.png'\nimport Question from '../../Util/Question'\n\nconst styles = StyleSheet.create({\n  collapsible: {\n    display: 'flex',\n    flexDirection: 'column',\n    padding: '15px',\n    gap: '10px'\n  },\n  doc: {},\n  printButton: {\n    display: 'inline-flex',\n    alignItems: 'center',\n    flexDirection: 'column',\n    alignSelf: 'center',\n    gap: '5px'\n  },\n  link: {\n    color: theme.primary\n  },\n  centered: {\n    textAlign: 'center'\n  },\n  li: {\n    margin: '10px'\n  },\n  ul: {\n    listStyleType: 'none'\n  },\n  ol: {\n    paddingLeft: 20\n  },\n  img: {\n    marginTop: 5,\n    marginBottom: 10,\n    maxWidth: 320,\n    width: '100%',\n    height: 'auto',\n    objectFit: 'cover'\n  },\n  nowrap: { whiteSpace: 'nowrap' }\n})\n\n// using 'other' as fallback because\n// other browsers may no longer support the api\ntype Browser = 'FirefoxAndroid' | 'other'\n\ninterface ExtendedCorrectionProps {\n  answers: AnswersData\n  questions: QuestionsData\n  resultTable: ReactNode\n}\n\nexport default function ExtendedCorrection(props: ExtendedCorrectionProps) {\n  const ref = createRef<HTMLDivElement>()\n  // save date to variable to keep the date\n  // when the test was taken\n  const resultsDate = new Date()\n  const printSupported: boolean = 'print' in window\n\n  let browser: Browser = 'other'\n  const userAgent = navigator.userAgent\n  if (userAgent.includes('Firefox') && userAgent.includes('Android')) {\n    browser = 'FirefoxAndroid'\n  }\n\n  const getTitle = (): string =>\n    `The TOL Project ${resultsDate\n      .toLocaleString()\n      .replace(/\\/|:/g, '-')\n      .replace(/,/g, '')}`\n\n  if (!printSupported) {\n    document.title = getTitle()\n  }\n\n  return (\n    <div style={styles.collapsible}>\n      {printSupported ? (\n        <div style={styles.printButton} className=\"do-not-print\">\n          <ReactToPrint\n            documentTitle={getTitle()}\n            content={() => ref.current}\n            trigger={() => <Button label=\"Salva risultati della simulazione\" />}\n            onAfterPrint={() => {\n              // remove the onbeforeunload listener since results are saved\n              window.onbeforeunload = null\n            }}\n          />\n        </div>\n      ) : (\n        <>\n          {browser === 'FirefoxAndroid' && <FirefoxInstructions />}\n          {browser === 'other' && <FallbackInstructions />}\n        </>\n      )}\n      <PrintDocument\n        ref={ref}\n        resultTable={props.resultTable}\n        questions={props.questions}\n        answers={props.answers}\n      />\n    </div>\n  )\n}\n\nconst docStyles = StyleSheet.create({\n  firstPage: {\n    display: 'flex',\n    flexDirection: 'column',\n    gap: 4\n  },\n  li: {\n    marginBottom: 10\n  }\n})\n\nconst PrintDocument = forwardRef<HTMLDivElement, ExtendedCorrectionProps>(\n  (props: ExtendedCorrectionProps, ref) => {\n    const dateTime = `${new Date().toLocaleDateString()} alle ${new Date().toLocaleTimeString(\n      [],\n      { timeStyle: 'short' }\n    )}`\n    const { resultTable, questions, answers } = props\n    return (\n      <div className=\"print-only\" ref={ref} style={styles.doc}>\n        <div style={docStyles.firstPage}>\n          <DocumentHeader />\n          <p style={styles.centered}>Simulazione del {dateTime}</p>\n          {resultTable}\n          <p>\n            Hai delle domande sui quesiti e la loro risoluzione? Falle sul{' '}\n            <a\n              href={links.telegramPreparazioneTOL}\n              target=\"_blank\"\n              rel=\"noreferrer noopener\"\n              style={styles.link}\n            >\n              Gruppo preparazione TOL\n            </a>{' '}\n            di PoliNetwork!\n          </p>\n          <p>\n            Nelle pagine successive troverai, suddivisi per sezione, i quesiti\n            che ti sono stati proposti con il relativo esito.\n          </p>\n        </div>\n        {(Object.entries(questions) as [section, IQuestion[]][])\n          .sort((a, b) => sectionInfo[a[0]].order - sectionInfo[b[0]].order)\n          .map(([section, values]) => (\n            <div key={section}>\n              <b>{sectionInfo[section].name}</b>\n              <ol>\n                {values.map((q) => {\n                  const letter = answers[section].find(\n                    (a) => a?.id == q.id && a?.sub == q.sub\n                  )?.letter\n                  return (\n                    <li key={q.id + (q.sub || '')} style={docStyles.li}>\n                      <Question q={q} choice={letter} isTest />\n                    </li>\n                  )\n                })}\n              </ol>\n            </div>\n          ))}\n      </div>\n    )\n  }\n)\nPrintDocument.displayName = 'Document'\n\nfunction FirefoxInstructions() {\n  return (\n    <div className=\"do-not-print\">\n      <h3>Salva i tuoi risultati</h3>\n      <p>Il tuo browser (Firefox Android) non supporta la stampa automatica.</p>\n      <p>Per salvare i risultati segui questi passaggi: </p>\n      <ol style={styles.ol}>\n        <li>Apri il menu di Firefox</li>\n        <img src={firefoxImg1} style={styles.img} />\n\n        <li>Premi il tasto per condividere</li>\n        <img src={firefoxImg2} style={styles.img} />\n\n        <li>Nel menu che si apre, premi su \"Salva come PDF\"</li>\n        <img src={firefoxImg3} style={styles.img} />\n      </ol>\n    </div>\n  )\n}\n\nfunction FallbackInstructions() {\n  return (\n    <div className=\"do-not-print\">\n      <h3>Salva i tuoi risultati</h3>\n      <p>\n        Per il tuo browser non è supportata la stampa automatica del PDF con i\n        risultati.\n      </p>\n      <p>\n        Puoi provare ad utilizzare la funzione \"Sala come PDF\" del tuo browser\n        che potrebbe essere nel menu di condivisione oppure nel menu principale\n        del browser.\n      </p>\n      <p>\n        Ti invitiamo a segnalare il tuo browser{' '}\n        <a href=\"https://github.com/PoliNetworkOrg/TheTOLProject/issues/35\">\n          qui\n        </a>{' '}\n        in modo da poter risolvere il problema{' '}\n      </p>\n    </div>\n  )\n}\n","import Fraction from 'fraction.js'\nimport fromEntries from 'fromentries'\nimport {\n  correctionWeight,\n  getSectionName,\n  sectionInfo,\n  tengPassThreshold,\n  testPassThreshold,\n  testTotalScore\n} from '../../utils/constants'\nimport { Question, QuestionsData, section } from '../../utils/database'\nimport { formatNumber, StyleSheet, theme } from '../../utils/style'\nimport { AnswersData } from '../App'\nimport Button from '../Util/Button'\nimport ExtendedCorrection from './ExtendedCorrection/ExtendedCorrection'\n\nconst styles = StyleSheet.create({\n  div: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    fontSize: '11pt'\n  },\n  tableDiv: {\n    alignSelf: 'center',\n    width: '100%',\n    overflow: 'auto',\n    display: 'flex'\n  },\n  table: { borderSpacing: 0, margin: 'auto' },\n  tableCell: {\n    padding: '5px',\n    paddingInline: '10px',\n    textAlign: 'center',\n    border: `thin solid ${theme.lightBorder}`,\n    borderSpacing: '0px',\n    fontSize: '9.5pt'\n  },\n  get tableHeader() {\n    return StyleSheet.compose(this.tableCell, {\n      fontWeight: 'bold',\n      backgroundColor: theme.lightBackground,\n      textAlign: 'left'\n    })\n  },\n  centeredText: {\n    textAlign: 'center'\n  },\n  p: {\n    padding: '10px',\n    textAlign: 'justify'\n  },\n  resultTable: { display: 'flex', flexDirection: 'column' },\n  h3: {\n    marginBottom: 0,\n    paddingInline: '10px'\n  },\n  restartDiv: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    flexDirection: 'column'\n  },\n  restartTitle: {\n    textAlign: 'center',\n    maxWidth: 500\n  },\n  restartButton: {\n    margin: '12px',\n    marginBottom: '32px'\n  }\n})\n\ninterface InfoEndProps {\n  answers: AnswersData\n  questions: QuestionsData\n}\nexport default function InfoEnd(props: InfoEndProps) {\n  const { answers, questions } = props\n\n  const correctionGrid = fromEntries(\n    (Object.entries(questions) as [section, Question[]][]).map(\n      ([section, secQuestions]) => {\n        let correct = 0,\n          notGiven = 0,\n          wrong = 0\n\n        secQuestions.forEach((q) => {\n          const answer = answers[section].find(\n            (a) => a && a.id == q.id && a.sub == q.sub\n          )\n\n          if (!answer || !answer.letter) notGiven++\n          else if (answer.letter == q.correct) correct++\n          else wrong++\n        })\n\n        const total = secQuestions.length,\n          sample = sectionInfo[section].sample,\n          sub = sectionInfo[section].sub || 1,\n          weight = sectionInfo[section].coeff\n\n        return [\n          section,\n          {\n            total,\n            correct,\n            notGiven,\n            wrong,\n            weight,\n            score: new Fraction(\n              correctionWeight.correct * correct +\n                correctionWeight.wrong * wrong +\n                correctionWeight.notGiven * notGiven\n            )\n              .div(total)\n              .mul(sample * sub)\n          }\n        ]\n      }\n    )\n  )\n\n  const score = (\n    Object.entries(correctionGrid) as [section, typeof correctionGrid[string]][]\n  )\n    .map(([, correction]) => correction.score.mul(correction.weight))\n    .reduce((acc, curr) => acc.add(curr), new Fraction(0))\n\n  const roundedScore = parseInt(score.round(0).toString(0))\n  const testPassed = roundedScore >= testPassThreshold,\n    tengPassed = correctionGrid.ing?.correct >= tengPassThreshold\n\n  const resultTable = () => (\n    <div style={styles.resultTable}>\n      <p style={styles.centeredText}>\n        <br />\n        TOL{' '}\n        {testPassed\n          ? `superato${!tengPassed ? ' (OFA TENG)' : ''}`\n          : `non superato: OFA TEST${!tengPassed ? ' + OFA TENG' : ''}`}\n        <br />\n        Punteggio: {formatNumber(score)} / {formatNumber(testTotalScore)} (\n        {formatNumber(score, true)})\n      </p>\n      <br />\n\n      <div style={styles.tableDiv}>\n        <table style={styles.table}>\n          <tr>\n            <td></td>\n            <td style={styles.tableHeader}>Punteggio sezione</td>\n            <td style={styles.tableHeader}>N° quesiti</td>\n            <td style={styles.tableHeader}>Esatti</td>\n            <td style={styles.tableHeader}>Errati</td>\n            <td style={styles.tableHeader}>Senza risposta</td>\n          </tr>\n          {(\n            Object.entries(correctionGrid) as [\n              section,\n              typeof correctionGrid[section]\n            ][]\n          )\n            .sort((a, b) => sectionInfo[a[0]].order - sectionInfo[b[0]].order)\n            .map(([section, correction]) => (\n              <tr key={section}>\n                <td style={styles.tableHeader}>{getSectionName(section)}</td>\n                <td style={styles.tableCell}>\n                  {formatNumber(correction.score, true)}\n                </td>\n                <td style={styles.tableCell}>{correction.total}</td>\n                <td style={styles.tableCell}>{correction.correct}</td>\n                <td style={styles.tableCell}>{correction.wrong}</td>\n                <td style={styles.tableCell}>{correction.notGiven}</td>\n              </tr>\n            ))}\n        </table>\n      </div>\n      <br />\n    </div>\n  )\n\n  return (\n    <div style={styles.div}>\n      <div className=\"do-not-print\">{resultTable()}</div>\n\n      <ExtendedCorrection\n        answers={props.answers}\n        questions={props.questions}\n        resultTable={resultTable()}\n      />\n\n      <div className=\"do-not-print\">\n        <h3 style={styles.h3}>Come viene calcolato il punteggio</h3>\n        <p style={styles.p}>\n          Il <b>punteggio massimo</b> conseguibile{' '}\n          <b>è di {formatNumber(testTotalScore, true)}</b> e viene espresso fino\n          alla seconda cifra decimale.\n          <br />\n          L'attribuzione di <b>OFA TEST</b> (Obblighi Formativi Aggiunti)\n          avviene quando il punteggio test, arrotondato all'intero più vicino,{' '}\n          <b>è minore di {formatNumber(testPassThreshold)}</b>.<br />\n          L'attribuzione di <b>OFA TENG</b> avviene quando, considerando la sola\n          sezione di {sectionInfo.ing.name}, il numero di risposte corrette{' '}\n          <b>è inferiore a {formatNumber(tengPassThreshold)}</b>.\n          <br />\n          <br />\n          Il <b>punteggio</b> della prova viene calcolato attribuendo:\n          <ul>\n            <li>\n              {formatNumber(correctionWeight.correct)} punto ad ogni risposta\n              esatta\n            </li>\n            <li>\n              {formatNumber(correctionWeight.wrong)} punti ad ogni risposta\n              errata\n            </li>\n            <li>\n              {formatNumber(correctionWeight.notGiven)} punti per ogni risposta\n              non data\n            </li>\n          </ul>\n          e assegnando\n          <ul>\n            {Object.entries(sectionInfo).map(([, info], index) => (\n              <li key={index}>\n                peso{' '}\n                {typeof info.coeff == 'number'\n                  ? formatNumber(info.coeff)\n                  : info.coeff.toFraction()}{' '}\n                ad ogni quesito di {info.name}\n              </li>\n            ))}\n          </ul>\n          Il <b>punteggio</b> complessivo viene arrotondato all'intero più\n          vicino (es: il punteggio 59,49 viene arrotondato a 59, il punteggio\n          59,50 a 60)\n        </p>\n        <div style={styles.restartDiv}>\n          <h3 style={styles.restartTitle}>\n            Ricordati di salvare i tuoi risultati prima di iniziare un nuovo\n            test, o andranno persi!\n          </h3>\n          <Button\n            label=\"Inizia un nuovo test\"\n            style={styles.restartButton}\n            onClick={() => {\n              window.location.reload()\n            }}\n          />\n        </div>\n      </div>\n    </div>\n  )\n}\n","import { StyleSheet } from '../../utils/style'\n\nconst styles = StyleSheet.create({\n  wrapper: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    margin: '10px auto',\n    marginBlock: '16px',\n    maxWidth: 900,\n    textAlign: 'center'\n  },\n  h2: {\n    fontSize: '16pt'\n  }\n})\n\ninterface Props extends React.HTMLAttributes<HTMLDivElement> {\n  title?: string\n}\n\nexport default function Wrapper({ children, style, title, ...props }: Props) {\n  return (\n    <div style={{ ...styles.wrapper, ...style }} {...props}>\n      {title && <h2 style={styles.h2}>{title}</h2>}\n      {children}\n    </div>\n  )\n}\n","import { useContext } from 'react'\nimport Collapsible from 'react-collapsible'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { TestContext } from '../../utils/contexts'\nimport { StyleSheet } from '../../utils/style'\nimport Button from '../Util/Button'\nimport Wrapper from '../Util/Wrapper'\n\nconst styles = StyleSheet.create({\n  centered: {\n    display: 'block'\n  },\n  buttonDiv: {\n    margin: '16px',\n    display: 'flex',\n    fontSize: 14,\n    gap: 6\n  }\n})\n\ninterface InfoStartProps {\n  startTest: () => void\n}\nexport default function InfoStart({ startTest }: InfoStartProps) {\n  const { isDsa, toggleDsa } = useContext(TestContext)\n  const { t, i18n } = useTranslation()\n\n  return (\n    <Wrapper>\n      <p>\n        <span style={styles.centered}>\n          <b>DISCLAIMER</b>\n        </span>\n        <br />\n        {t('home.disclaimer')}\n      </p>\n      <i>{t('home.languageInfo')}</i>\n      <div style={styles.buttonDiv}>\n        <Button\n          style={{ fontSize: 14 }}\n          label={t('home.startBtn')}\n          onClick={startTest}\n        />\n        <label htmlFor=\"dsa_toggle\" style={{ userSelect: 'none' }}>\n          <input\n            id=\"dsa_toggle\"\n            type=\"checkbox\"\n            checked={isDsa}\n            onChange={toggleDsa}\n          />\n          {t('home.dsaBtn')}\n        </label>\n      </div>\n      <Collapsible trigger={<></>} open={isDsa} transitionTime={150}>\n        <p>\n          <Trans i18n={i18n}>home.dsaInfo</Trans>\n        </p>\n      </Collapsible>\n    </Wrapper>\n  )\n}\n","import { Navigate, useLocation, useNavigate } from 'react-router'\nimport { PanelBear } from '../..'\nimport { QuestionsData } from '../../utils/database'\nimport { statePair } from '../../utils/types'\nimport { AnswersData, view } from '../App'\nimport InfoEnd from './InfoEnd'\nimport InfoStart from './InfoStart'\n\ninterface InfoViewProps {\n  answers: AnswersData\n  questions: QuestionsData\n  viewState: statePair<view>\n}\nexport default function InfoView(props: InfoViewProps) {\n  const [view, setView] = props.viewState,\n    location = useLocation(),\n    navigate = useNavigate()\n\n  if (\n    (location.pathname == '/test' && !view.startsWith('TOL')) ||\n    (location.pathname == '/results' && view != 'INFO-end')\n  ) {\n    setView('INFO-start')\n    return <Navigate to=\"/\" replace />\n  }\n\n  return view == 'INFO-start' ? (\n    <InfoStart\n      startTest={() => {\n        setView('TOL-testing')\n        navigate('/test', { replace: true })\n        PanelBear.track('TestStart')\n      }}\n    />\n  ) : view == 'INFO-end' ? (\n    <InfoEnd answers={props.answers} questions={props.questions} />\n  ) : (\n    <div />\n  )\n}\n","export default __webpack_public_path__ + \"static/media/telegram_logo.1ca7c840.svg\";","import { links, members } from '../../utils/constants'\nimport { StyleSheet, theme } from '../../utils/style'\nimport telegramLogo from '../../static/telegram_logo.svg'\nimport Wrapper from '../Util/Wrapper'\nimport { Trans, useTranslation } from 'react-i18next'\n\nconst styles = StyleSheet.create({\n  p: {\n    margin: '20px',\n    textAlign: 'justify',\n    width: '100%'\n  },\n  centered: {\n    textAlign: 'center'\n  },\n  link: {\n    display: 'flex',\n    color: theme.primary,\n    gap: '5px',\n    alignItems: 'center'\n  },\n  liDiv: {\n    display: 'flex',\n    gap: '5px',\n    alignItems: 'center',\n    flexDirection: 'row'\n  },\n  telegramLink: {\n    display: 'flex'\n  },\n  telegramLogo: {\n    height: '17.5px'\n  }\n})\n\nexport default function About() {\n  const { t, i18n } = useTranslation()\n  return (\n    <Wrapper title=\"About\">\n      <p style={styles.p}>\n        <Trans i18n={i18n}>about.main</Trans>\n      </p>\n      <p style={styles.p}>\n        <b>{t('about.projectTeam')}</b>\n        <br />\n        <ul>\n          {members\n            .filter((m) => !m.ah)\n            .sort((a, b) =>\n              a.name.toUpperCase() > b.name.toUpperCase() ? 1 : -1\n            )\n            .map((m, i) => (\n              <li key={i}>\n                <div style={styles.liDiv}>\n                  {(m.prefix || '') + ' ' + m.name}{' '}\n                  <a\n                    href={`https://t.me/${m.tg}`}\n                    target=\"_blank\"\n                    rel=\"noreferrer noopener\"\n                    style={styles.telegramLink}\n                  >\n                    <img src={telegramLogo} style={styles.telegramLogo}></img>\n                  </a>\n                </div>\n              </li>\n            ))}\n        </ul>\n        Ad hoc:\n        <ul>\n          {members\n            .filter((m) => !!m.ah)\n            .sort((a, b) =>\n              a.name.toUpperCase() > b.name.toUpperCase() ? 1 : -1\n            )\n            .map((m, i) => (\n              <li key={i}>\n                <div style={styles.liDiv}>\n                  {m.name}{' '}\n                  <a\n                    href={`https://t.me/${m.tg}`}\n                    target=\"_blank\"\n                    rel=\"noreferrer noopener\"\n                    style={styles.telegramLink}\n                  >\n                    <img src={telegramLogo} style={styles.telegramLogo}></img>\n                  </a>\n                </div>\n              </li>\n            ))}\n        </ul>\n        <br />\n        <b>{t('about.supportGroups.head')}</b>\n        <ul>\n          <li>\n            <div style={styles.liDiv}>\n              {t('about.supportGroups.1')}\n              <a\n                href={links.telegramTheTOLProject}\n                target=\"_blank\"\n                rel=\"noreferrer noopener\"\n                style={styles.link}\n              >\n                The TOL Project{' '}\n                <span style={styles.telegramLink}>\n                  <img src={telegramLogo} style={styles.telegramLogo}></img>\n                </span>\n              </a>\n            </div>\n          </li>\n          <li>\n            <div style={styles.liDiv}>\n              {t('about.supportGroups.2')}\n              <a\n                href={links.telegramPreparazioneTOL}\n                target=\"_blank\"\n                rel=\"noreferrer noopener\"\n                style={styles.link}\n              >\n                Gruppo preparazione TOL{' '}\n                <span style={styles.telegramLink}>\n                  <img src={telegramLogo} style={styles.telegramLogo}></img>\n                </span>\n              </a>\n            </div>\n          </li>\n        </ul>\n      </p>\n    </Wrapper>\n  )\n}\n","import { Trans, useTranslation } from 'react-i18next'\nimport { links } from '../../utils/constants'\nimport { StyleSheet } from '../../utils/style'\nimport Wrapper from '../Util/Wrapper'\n\nconst styles = StyleSheet.create({\n  div: {\n    paddingBlock: '15px'\n  },\n  centered: {\n    textAlign: 'center',\n    margin: 0\n  },\n  licenseImg: {\n    borderWidth: 0,\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    display: 'block'\n  }\n})\n\nexport function License() {\n  const { i18n } = useTranslation()\n  const components = {\n    title: (\n      <span\n        {...{ 'xmlns:dct': 'https://purl.org/dc/terms/' }}\n        property=\"dct:title\"\n      />\n    ),\n    network: (\n      <a\n        href=\"https://polinetwork.org/it/projects/\"\n        property=\"cc:attributionName\"\n        rel=\"cc:attributionURL noreferrer noopener\"\n        target=\"_blank\"\n      />\n    ),\n    cc4: (\n      <a\n        rel=\"license noreferrer noopener\"\n        href=\"https://creativecommons.org/licenses/by-sa/4.0/\"\n        target=\"_blank\"\n      />\n    ),\n    githubLicense: (\n      <a\n        {...{ 'xmlns:cc': 'https://creativecommons.org/ns#' }}\n        href={links.githubLicense}\n        rel=\"cc:morePermissions noreferrer noopener\"\n        target=\"_blank\"\n      />\n    )\n  }\n  return (\n    <Wrapper title=\"License\">\n      <p>\n        <Trans i18n={i18n} components={components}>\n          license.main\n        </Trans>\n      </p>\n      <a\n        rel=\"license noreferrer noopener\"\n        href=\"https://creativecommons.org/licenses/by-sa/4.0/\"\n        target=\"_blank\"\n        style={{ margin: 10 }}\n      >\n        <img\n          alt=\"Creative Commons License\"\n          style={styles.licenseImg}\n          src=\"https://i.creativecommons.org/l/by-sa/4.0/88x31.png\"\n        />\n      </a>\n    </Wrapper>\n  )\n}\n","import { AnchorHTMLAttributes } from 'react'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { links } from '../../utils/constants'\nimport Wrapper from '../Util/Wrapper'\n\nfunction Link({\n  title,\n  children,\n  href,\n  ...props\n}: AnchorHTMLAttributes<HTMLAnchorElement>) {\n  return (\n    <a href={href} target=\"_blank\" rel=\"noreferrer noopener\" {...props}>\n      {title}\n      {children}\n    </a>\n  )\n}\n\nexport default function Privacy() {\n  const { i18n } = useTranslation()\n  const components = {\n    trackerLink: (\n      <Link\n        href={links.privacyPanelbear}\n        title={`\"Cookie Free Website Analytics\" di PanelBear`}\n      />\n    ),\n    localStorage: <Link title=\"local storage\" href={links.localStorageMDN} />\n  }\n  return (\n    <Wrapper title=\"Privacy & Cookies\">\n      <p>\n        <Trans\n          i18n={i18n}\n          components={{\n            link: components.trackerLink\n          }}\n        >\n          privacy.tracker\n        </Trans>\n      </p>\n      <p>\n        <Trans\n          i18n={i18n}\n          components={{\n            link: components.localStorage\n          }}\n        >\n          privacy.localStorage\n        </Trans>\n      </p>\n    </Wrapper>\n  )\n}\n","import { Question } from '../../utils/database'\nimport { StyleSheet } from '../../utils/style'\nimport { statePair } from '../../utils/types'\nimport { Answer } from '../App'\nimport RenderedText from '../Util/RenderedText'\n\nconst styles = StyleSheet.create({\n  baseText: {\n    fontSize: '11pt'\n  },\n  label: {\n    display: 'flex',\n    marginBottom: '2px'\n  },\n  radioText: {\n    display: 'flex',\n    fontWeight: 'bold',\n    textAlign: 'center',\n    verticalAlign: 'middle',\n    paddingInline: '10px',\n    alignItems: 'flex-start'\n  },\n  radioSpan: {\n    width: '2em',\n    float: 'left',\n    display: 'inline-block'\n  }\n})\n\ninterface AnswerFormProps {\n  currentAnswer: Answer | undefined\n  currentQuestion: Question\n  tmpAnswerState: statePair<Answer['letter']>\n}\n\nexport default function AnswerForm(props: AnswerFormProps) {\n  const letterState = props.tmpAnswerState\n\n  if (!props.currentQuestion)\n    return (\n      <span style={styles.baseText}>\n        <br />\n        No answers to display ¯\\_(ツ)_/¯\n      </span>\n    )\n\n  return (\n    <div>\n      <RadioRow\n        letter=\"a\"\n        letterState={letterState}\n        text={props.currentQuestion.answers.a}\n      />\n      <RadioRow\n        letter=\"b\"\n        letterState={letterState}\n        text={props.currentQuestion.answers.b}\n      />\n      <RadioRow\n        letter=\"c\"\n        letterState={letterState}\n        text={props.currentQuestion.answers.c}\n      />\n      <RadioRow\n        letter=\"d\"\n        letterState={letterState}\n        text={props.currentQuestion.answers.d}\n      />\n      <RadioRow\n        letter=\"e\"\n        letterState={letterState}\n        text={props.currentQuestion.answers.e}\n      />\n      <RadioRow letter={undefined} letterState={letterState} text=\"Non so\" />\n    </div>\n  )\n}\n\ninterface RadioRowProps {\n  letter: Answer['letter']\n  letterState: statePair<Answer['letter']>\n  text: string\n}\nfunction RadioRow(props: RadioRowProps) {\n  return (\n    <tr style={styles.baseText}>\n      <label style={styles.label}>\n        <td style={styles.radioText}>\n          <span style={styles.radioSpan}>\n            {props.letter?.toUpperCase() || '?'}{' '}\n          </span>\n          <input\n            type=\"radio\"\n            value={props.letter}\n            checked={props.letter == props.letterState[0]}\n            onChange={(event) => {\n              // @ts-expect-error The value is correct\n              props.letterState[1](event.target.value || undefined)\n            }}\n          />\n        </td>\n        <td>\n          <RenderedText text={props.text} />\n        </td>\n      </label>\n    </tr>\n  )\n}\n","import { StyleSheet, theme } from '../../utils/style'\nimport { FaCheck } from 'react-icons/fa'\nimport Button from '../Util/Button'\nimport { statePair } from '../../utils/types'\nimport { Answer } from '../App'\nimport { Question } from '../../utils/database'\n\nconst styles = StyleSheet.create({\n  controlsDiv: {\n    display: 'flex',\n    flex: 1,\n    justifyContent: 'flex-end',\n    fontSize: '9.5pt',\n    verticalAlign: 'middle',\n    gap: '10px',\n    paddingBlock: '10px'\n  },\n  label: { display: 'flex', alignItems: 'center' },\n  icon: { color: theme.timerGreen }\n})\n\ninterface BottomControlsProps {\n  currentQuestion: Question\n  tmpAnswerState: statePair<Answer['letter']>\n  tmpFlaggedState: statePair<boolean>\n  updateAnswer: (updatedAnswer: Answer) => void\n}\nexport default function BottomControls(props: BottomControlsProps) {\n  const [flagged, setFlagged] = props.tmpFlaggedState\n\n  if (!props.currentQuestion) return <div style={styles.controlsDiv} />\n\n  return (\n    <div style={styles.controlsDiv}>\n      <label style={styles.label}>\n        <input\n          type=\"checkbox\"\n          checked={flagged}\n          onChange={() => {\n            setFlagged(!flagged)\n          }}\n        />\n        <span>Da rivedere</span>\n      </label>\n      <Button\n        label=\"Conferma e vai alla successiva\"\n        leftIcon={() => <FaCheck style={styles.icon} />}\n        onClick={() => {\n          props.updateAnswer({\n            id: props.currentQuestion.id,\n            sub: props.currentQuestion.sub,\n            letter: props.tmpAnswerState[0],\n            flagged\n          })\n        }}\n      />\n    </div>\n  )\n}\n","import { useContext } from 'react'\nimport { Question } from '../../utils/database'\nimport { StyleSheet, theme } from '../../utils/style'\nimport { Answer } from '../App'\nimport { IoMdArrowRoundBack, IoMdArrowRoundForward } from 'react-icons/io'\nimport Button from '../Util/Button'\nimport { MobileContext } from '../../utils/contexts'\n\nconst styles = StyleSheet.create({\n  container: {\n    display: 'flex',\n    justifyContent: 'space-between'\n  },\n  leftContainer: {\n    display: 'flex'\n  },\n  rightContainer: {\n    display: 'flex',\n    padding: '1em',\n    gap: '5px'\n  },\n  p: {\n    textAlign: 'left',\n    fontSize: '11pt',\n    minWidth: '4em',\n    padding: '7.5px'\n  },\n  get question() {\n    return StyleSheet.compose(this.p, {\n      fontWeight: 'bold',\n      width: '7.1em',\n      paddingLeft: 0\n    })\n  },\n  get answerLetter() {\n    return StyleSheet.compose(this.p, {\n      textAlign: 'center',\n      marginInline: '5px',\n      boxShadow: theme.boxShadow\n    })\n  },\n  icon: {\n    height: '17.5px',\n    width: '17.5px',\n    color: theme.primary\n  },\n  button: {\n    paddingBlock: 0\n  }\n})\n\nconst mobileStyles = StyleSheet.create({\n  container: StyleSheet.compose(styles.container, {\n    flexDirection: 'column-reverse'\n  }),\n  rightContainer: StyleSheet.compose(styles.rightContainer, {\n    justifyContent: 'space-between'\n  })\n})\n\ninterface QuestionHeaderProps {\n  currentAnswer: Answer\n  questionIndex: number\n  sectionQuestions: Question[]\n  shiftQuestionIndex: (offset: number) => void\n}\nexport default function QuestionHeader(props: QuestionHeaderProps) {\n  const { mobile } = useContext(MobileContext)\n  return (\n    <div style={mobile ? mobileStyles.container : styles.container}>\n      <div style={styles.leftContainer}>\n        <p style={styles.question}>Domanda {props.questionIndex + 1}</p>\n        <p\n          style={StyleSheet.compose(styles.answerLetter, {\n            backgroundColor: props.currentAnswer?.flagged\n              ? theme.questionYellow\n              : props.currentAnswer?.letter\n              ? theme.questionGreen\n              : 'inherit'\n          })}\n        >\n          {(props.currentAnswer?.letter?.toUpperCase() || '') +\n            (props.currentAnswer?.flagged ? '?' : '') || ' '}\n        </p>\n        <p style={styles.p}>\n          Risposta {props.currentAnswer?.letter ? '' : 'non '}data\n        </p>\n      </div>\n      <div style={mobile ? mobileStyles.rightContainer : styles.rightContainer}>\n        <Button\n          label=\"precedente\"\n          onClick={() => props.shiftQuestionIndex(-1)}\n          style={styles.button}\n          leftIcon={() => <IoMdArrowRoundBack style={styles.icon} />}\n        />\n        <Button\n          label=\"successiva\"\n          onClick={() => props.shiftQuestionIndex(1)}\n          style={styles.button}\n          rightIcon={() => <IoMdArrowRoundForward style={styles.icon} />}\n        />\n      </div>\n    </div>\n  )\n}\n","import { StyleSheet } from '../../utils/style'\nimport GeneralPurposeCollapsible from './GeneralPurposeCollapsible'\n\nconst styles = StyleSheet.create({\n  p: {\n    margin: '2px',\n    padding: '10px',\n    textAlign: 'justify'\n  },\n  innerP: { padding: '1px', margin: 0 }\n})\n\ninterface CollapsibleTextProps {\n  label: string\n  longText: string\n  startOpen?: boolean\n}\nexport default function CollapsibleText(props: CollapsibleTextProps) {\n  return (\n    <GeneralPurposeCollapsible label={props.label} startOpen={props.startOpen}>\n      <div style={styles.p}>\n        {props.longText\n          .trim()\n          .split('\\n')\n          .map((t, i) => (\n            <p style={styles.innerP} key={i}>\n              {t}\n            </p>\n          ))}\n      </div>\n    </GeneralPurposeCollapsible>\n  )\n}\n","import { Question } from '../../utils/database'\nimport { StyleSheet } from '../../utils/style'\nimport CollapsibleText from '../Util/CollapsibleText'\nimport QuestionAttachments from '../Util/QuestionAttachments'\nimport RenderedText from '../Util/RenderedText'\n\nconst styles = StyleSheet.create({\n  container: {\n    marginBlock: 0,\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  collapsible: {\n    padding: '10px',\n    display: 'flex',\n    flexDirection: 'column',\n    gap: '15px'\n  },\n  attachment: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'flex-start',\n    gap: '5px'\n  },\n  image: {\n    maxHeight: '500px',\n    maxWidth: '100%',\n    objectFit: 'contain'\n  }\n})\n\ninterface QuestionViewProps {\n  question: Question\n}\n\nexport default function QuestionView({ question }: QuestionViewProps) {\n  if (!question)\n    return (\n      <span style={styles.container}>No question to display ¯\\_(ツ)_/¯</span>\n    )\n\n  return (\n    <div style={{ marginBottom: question.attachments?.length ? 0 : '15px' }}>\n      {question.track && (\n        <CollapsibleText\n          label=\"mostra/nascondi brano\"\n          longText={question.track}\n        />\n      )}\n      <div style={styles.container}>\n        <RenderedText text={question.text}></RenderedText>\n        <QuestionAttachments q={question} dbRef=\"stable\" />\n      </div>\n    </div>\n  )\n}\n","import { answerLetter, section, QuestionsData } from '../../utils/database'\nimport { StyleSheet, theme } from '../../utils/style'\nimport { statePair } from '../../utils/types'\nimport { AnswersData } from '../App'\n\nconst styles = StyleSheet.create({\n  bordered: {\n    borderBottom: 'thin solid #606060'\n  },\n  barContainer: {\n    width: '100%',\n    boxSizing: 'border-box',\n    overflow: 'auto hidden',\n    padding: '5px 2.5px 5px 0'\n  },\n  bar: {\n    display: 'flex',\n    fontSize: '9.5pt',\n    textDecoration: 'none',\n    color: theme.primary\n  },\n  cellContainer: {\n    display: 'flex',\n    flex: '1 0 25px',\n    flexDirection: 'column',\n    alignContent: 'baseline',\n    textAlign: 'center',\n    maxWidth: '4em',\n    backgroundColor: theme.lightBackground\n  },\n  cellSub: {\n    padding: '0.3em',\n    height: '1.2em',\n    boxShadow: theme.boxShadow\n  },\n  selectedCell: {\n    outline: `5px solid ${theme.primary}`,\n    marginInline: '4px',\n    color: 'black'\n  },\n  p: { margin: 'auto' }\n})\n\ninterface RecapBarProps {\n  active: boolean\n  currentQuestionIndexState: statePair<number>\n  sectionAnswers: AnswersData[section]\n  sectionQuestions: QuestionsData[section]\n}\nexport default function RecapBar(props: RecapBarProps) {\n  return (\n    <div style={styles.barContainer} id=\"recap-bar-container\">\n      <a\n        style={StyleSheet.compose(styles.bar, {\n          minWidth: props.sectionQuestions.length * 25 + 10\n        })}\n        {...(props.active ? { href: '#' } : {})}\n      >\n        {props.sectionQuestions.map((q, i) => {\n          const answer = props.sectionAnswers.find(\n            (a) => a && a.id == q.id && (q.sub ? q.sub == a.sub : true)\n          )\n          return (\n            <AnswerCell\n              key={i}\n              index={i}\n              letter={answer?.letter}\n              flagged={answer?.flagged || false}\n              onClick={() => {\n                if (props.active) props.currentQuestionIndexState[1](i)\n              }}\n              selected={props.active && props.currentQuestionIndexState[0] == i}\n            />\n          )\n        })}\n      </a>\n    </div>\n  )\n}\n\ninterface AnswerCellProps {\n  index: number\n  letter: answerLetter | undefined\n  flagged: boolean\n  onClick: () => void\n  selected: boolean\n}\nfunction AnswerCell(props: AnswerCellProps) {\n  return (\n    <div\n      style={StyleSheet.compose(\n        styles.cellContainer,\n        props.selected && styles.selectedCell\n      )}\n      onClick={props.onClick}\n    >\n      <div\n        style={StyleSheet.compose(\n          styles.cellSub,\n          styles.bordered,\n          props.selected && { fontWeight: 'bold' }\n        )}\n      >\n        <p style={styles.p}>{props.index + 1}</p>\n      </div>\n      <div\n        style={StyleSheet.compose(styles.cellSub, {\n          backgroundColor: props.flagged\n            ? theme.questionYellow\n            : props.letter\n            ? theme.questionGreen\n            : 'white'\n        })}\n      >\n        <p style={styles.p}>\n          {props.letter?.toUpperCase() || ' '}\n          {props.flagged && '?'}\n        </p>\n      </div>\n    </div>\n  )\n}\n","import { sectionInfo } from '../../utils/constants'\nimport { QuestionsData, section } from '../../utils/database'\nimport { StyleSheet } from '../../utils/style'\nimport { AnswersData } from '../App'\nimport Button from '../Util/Button'\n\nconst styles = StyleSheet.create({\n  container: {\n    display: 'flex',\n    paddingTop: '10px',\n    paddingBottom: '20px',\n    alignItems: 'center',\n    flexDirection: 'column'\n  }\n})\n\ninterface SectionRecapProps {\n  goToNextSection: () => void\n  section: section\n  sectionAnswers: AnswersData[section]\n  sectionQuestions: QuestionsData[section]\n  secondsUsed: number\n  minutes: number\n}\nexport default function SectionRecap({\n  minutes,\n  secondsUsed,\n  ...props\n}: SectionRecapProps) {\n  const order = sectionInfo[props.section].order\n  const seconds = minutes * 60\n  return (\n    <div style={styles.container}>\n      <p>\n        {'Tempo utilizzato: '}\n        <span>\n          {displayTime((secondsUsed / 60) % 60)}:{displayTime(secondsUsed / 60)}\n          :{displayTime(secondsUsed % 60)}\n        </span>\n        {' / '}\n        <span>\n          {displayTime(minutes / 60)}:{displayTime(minutes % 60)}:\n          {displayTime(seconds % 60)}\n        </span>\n        {' ('}\n        <span>\n          {displayTime((seconds - secondsUsed) / 60 / 60)}:\n          {displayTime(((seconds - secondsUsed) / 60) % 60)}:\n          {displayTime((seconds - secondsUsed) % 60)} rimanente)\n        </span>\n      </p>\n      <Button\n        label={\n          order == Math.max(...Object.values(sectionInfo).map((i) => i.order))\n            ? 'Vedi esito del test'\n            : 'Prossima sezione'\n        }\n        onClick={props.goToNextSection}\n      />\n    </div>\n  )\n}\n\nfunction displayTime(time: number) {\n  return Math.floor(time).toLocaleString(undefined, {\n    minimumIntegerDigits: 2\n  })\n}\n","import { useContext } from 'react'\nimport { TimerResult } from 'react-timer-hook'\nimport { StyleSheet, theme } from '../../utils/style'\nimport { FiClock } from 'react-icons/fi'\nimport { MobileContext } from '../../utils/contexts'\n\nconst alertThreshold = 60\n\nconst styles = StyleSheet.create({\n  container: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: '5px'\n  },\n  clockWrapper: {\n    color: theme.timerGreen,\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: '5px'\n  },\n  numbers: {\n    display: 'flex',\n    fontWeight: 'bold',\n    color: 'inherit',\n    border: '2px solid',\n    borderRadius: '4px',\n    height: '1.75em',\n    fontSize: '1.25em',\n    alignItems: 'center',\n    paddingInline: '10px'\n  },\n  expiring: {\n    color: theme.timerRed\n  },\n  icon: {\n    color: 'inherit',\n    height: '2.5em',\n    width: 'auto'\n  },\n  p: {\n    display: 'flex',\n    fontSize: '0.75em',\n    maxWidth: '12em',\n    textAlign: 'left',\n    wordWrap: 'normal'\n  }\n})\n\ninterface TimerProps {\n  timer: TimerResult\n}\nexport default function Timer(props: TimerProps) {\n  const { mobile } = useContext(MobileContext)\n  const { timer } = props\n\n  return (\n    <div\n      style={\n        mobile\n          ? StyleSheet.compose(styles.container, {\n              alignSelf: 'flex-end',\n              marginBottom: '1em'\n            })\n          : styles.container\n      }\n    >\n      <div\n        style={StyleSheet.compose(\n          styles.clockWrapper,\n          (timer.hours * 60 + timer.minutes) * 60 + timer.seconds <\n            alertThreshold && styles.expiring\n        )}\n      >\n        <FiClock style={styles.icon} />\n        <div style={styles.numbers}>\n          {timer.hours.toLocaleString(undefined, {\n            minimumIntegerDigits: 2\n          })}\n          :\n          {timer.minutes.toLocaleString(undefined, {\n            minimumIntegerDigits: 2\n          })}\n          :\n          {timer.seconds.toLocaleString(undefined, { minimumIntegerDigits: 2 })}\n        </div>\n      </div>\n      {mobile ? undefined : (\n        <p style={styles.p}>\n          Tempo rimanente\n          <br /> per la sezione corrente\n        </p>\n      )}\n    </div>\n  )\n}\n","import { useContext } from 'react'\nimport { TimerResult } from 'react-timer-hook'\nimport { getSectionName } from '../../utils/constants'\nimport { MobileContext } from '../../utils/contexts'\nimport { section, QuestionsData } from '../../utils/database'\nimport { StyleSheet } from '../../utils/style'\nimport { AnswersData } from '../App'\nimport Button from '../Util/Button'\nimport Timer from './Timer'\n\nconst styles = StyleSheet.create({\n  outerDiv: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between'\n  },\n  innerDiv: {\n    display: 'flex',\n    alignItems: 'center',\n    flexDirection: 'row',\n    gap: '15px',\n    fontSize: '11pt'\n  }\n})\n\nconst mobileStyles = StyleSheet.create({\n  outerDiv: StyleSheet.compose(styles.outerDiv, {\n    flexDirection: 'column'\n  }),\n  innerDiv: StyleSheet.compose(styles.innerDiv, {\n    width: '100%',\n    justifyContent: 'space-between'\n  })\n})\n\ninterface TopControlsProps {\n  active: boolean\n  answers: AnswersData\n  closeSection: () => void\n  currentSection: section\n  timer: TimerResult\n  questions: QuestionsData\n}\n\nexport default function TopControls(props: TopControlsProps) {\n  const { mobile } = useContext(MobileContext)\n  const { currentSection } = props\n\n  return (\n    <div style={mobile ? mobileStyles.outerDiv : styles.outerDiv}>\n      <div style={mobile ? mobileStyles.innerDiv : styles.innerDiv}>\n        <div>\n          <p>\n            Sezione: <b>{getSectionName(currentSection)}</b> <br />\n            Riposte:{' '}\n            {\n              props.answers[currentSection].filter((a) => !!a.letter).length\n            } / {props.questions[currentSection].length}\n            {mobile && <br />}\n            {props.active &&\n              ` (${props.answers[currentSection].reduce(\n                (acc, curr) => acc + (curr.flagged ? 1 : 0),\n                0\n              )} da rivedere)`}\n          </p>\n        </div>\n        {props.active && (\n          <Button label=\"Chiudi sezione\" onClick={props.closeSection} />\n        )}\n      </div>\n      <Timer timer={props.timer} />\n    </div>\n  )\n}\n","import { useContext, useEffect, useState } from 'react'\nimport { useNavigate } from 'react-router'\nimport { useTimer } from 'react-timer-hook'\nimport { PanelBear } from '../..'\nimport {\n  DSATimeModifier,\n  getNextSection,\n  sectionInfo\n} from '../../utils/constants'\nimport { TestContext } from '../../utils/contexts'\nimport { section, QuestionsData } from '../../utils/database'\nimport { StyleSheet } from '../../utils/style'\nimport { statePair } from '../../utils/types'\nimport { Answer, AnswersData, TimeRecord, view } from '../App'\nimport AnswerForm from './AnswerForm'\nimport BottomControls from './BottomControls'\nimport QuestionHeader from './QuestionHeader'\nimport QuestionView from './QuestionView'\nimport RecapBar from './RecapBar'\nimport SectionRecap from './SectionRecap'\nimport TopControls from './TopControls'\n\nconst styles = StyleSheet.create({\n  testing: { display: 'flex', flexDirection: 'column' }\n})\n\ninterface QuestionsFormProps {\n  answersState: statePair<AnswersData>\n  questions: QuestionsData\n  sectionState: statePair<section>\n  timeRecordState: statePair<TimeRecord>\n  viewState: statePair<view>\n}\nexport default function QuestionsForm(props: QuestionsFormProps) {\n  const { isDsa } = useContext(TestContext)\n  const minutesCoeff = isDsa ? DSATimeModifier : 1\n  const [qIndex, originalSetQIndex] = useState(0),\n    tmpFlaggedState = useState(false),\n    tmpAnswerState = useState<Answer['letter']>(),\n    alertDisplayedState = useState(false)\n\n  const [currentSection, setSection] = props.sectionState,\n    [view, setView] = props.viewState,\n    [answers, setAnswers] = props.answersState,\n    [timeRecord, setTimeRecord] = props.timeRecordState\n\n  const sectionQuestions = props.questions[props.sectionState[0]],\n    currentQuestion = sectionQuestions[qIndex],\n    currentAnswer = answers[currentSection][qIndex],\n    shouldShowAlert =\n      !alertDisplayedState[0] &&\n      (tmpAnswerState[0] != currentAnswer?.letter ||\n        tmpFlaggedState[0] != (currentAnswer?.flagged || false))\n\n  useEffect(() => {\n    // called when the qIndex is updated (the user changes question)\n    // sets the scroll of the recap bar container to keep the selected question in view\n    const recapBarElement = document.getElementById('recap-bar-container')\n    if (!recapBarElement) return\n\n    // this width works ok considering margins, widths, and paddings of the elements\n    const width = recapBarElement.clientWidth - 40\n    // 25 is the min width of a question cell, 2px margin to see the cell before\n    const maxScroll = qIndex * 25 - 2\n    const minScroll = maxScroll - width\n\n    // the scrollLeft musth be kept between the two values\n    if (recapBarElement.scrollLeft < minScroll)\n      recapBarElement.scrollLeft = minScroll\n    if (recapBarElement.scrollLeft > maxScroll)\n      recapBarElement.scrollLeft = maxScroll\n  }, [qIndex])\n\n  const showAlert = () => {\n    alert(\n      `Se prima non premi \"Conferma e vai alla successiva\" la risposta non verrà salvata.`\n    )\n    alertDisplayedState[1](true)\n  }\n\n  const closeSection = () => {\n    if (shouldShowAlert) return showAlert()\n    // else it's already reset by setQIndex\n\n    setView('TOL-secRecap')\n    setQIndex(0)\n    tmpAnswerState[1](undefined)\n    tmpFlaggedState[1](false)\n\n    const nextAnswers = answers\n    nextAnswers[currentSection] = nextAnswers[currentSection].map((a) => ({\n      ...a,\n      flagged: false\n    }))\n    setAnswers(nextAnswers)\n\n    const nextTR = timeRecord\n    nextTR[currentSection] =\n      sectionInfo[currentSection].minutes * minutesCoeff * 60 -\n      ((timer.hours * 60 + timer.minutes) * 60 + timer.seconds)\n    setTimeRecord(nextTR)\n\n    timer.restart(new Date(), false)\n  }\n\n  const setQIndex = (\n    index: React.SetStateAction<number>,\n    ignoreAlert = false\n  ) => {\n    if (shouldShowAlert && !ignoreAlert) {\n      showAlert()\n    } else {\n      const next = answers[currentSection][index as number]\n\n      tmpFlaggedState[1](next?.flagged || false)\n      tmpAnswerState[1](next?.letter || undefined)\n      alertDisplayedState[1](false)\n\n      originalSetQIndex(index)\n    }\n  }\n\n  const shiftQIndex = (offset: number, ignoreAlert = false) => {\n    const next =\n      (qIndex + offset + sectionQuestions.length) % sectionQuestions.length || 0\n    return setQIndex(next, ignoreAlert)\n  }\n\n  const timer = useTimer({\n    expiryTimestamp: getTimerExpDate(\n      sectionInfo[currentSection].minutes * minutesCoeff\n    ),\n    onExpire: () => {\n      timer.seconds = 0\n      closeSection()\n    }\n  })\n\n  const currentQuestionIndexState: statePair<number> = [qIndex, setQIndex]\n  if (!props.questions) return <span>Loading...</span>\n\n  const getViewElement = () => {\n    const navigate = useNavigate()\n\n    if (view == 'TOL-testing')\n      return (\n        <div style={styles.testing}>\n          <QuestionHeader\n            currentAnswer={currentAnswer}\n            questionIndex={qIndex}\n            shiftQuestionIndex={shiftQIndex}\n            sectionQuestions={sectionQuestions}\n          />\n          <QuestionView question={currentQuestion} />\n          <AnswerForm\n            currentAnswer={currentAnswer}\n            currentQuestion={currentQuestion}\n            tmpAnswerState={tmpAnswerState}\n          />\n          <BottomControls\n            currentQuestion={currentQuestion}\n            tmpAnswerState={tmpAnswerState}\n            tmpFlaggedState={tmpFlaggedState}\n            updateAnswer={(a) => {\n              const next = answers\n              next[currentSection][qIndex] = a\n              setAnswers(next)\n              shiftQIndex(1, true)\n            }}\n          />\n        </div>\n      )\n    else if (view == 'TOL-secRecap')\n      return (\n        <SectionRecap\n          goToNextSection={() => {\n            const nextSection = getNextSection(currentSection)\n            if (nextSection) {\n              setSection(nextSection)\n              timer.restart(\n                getTimerExpDate(sectionInfo[nextSection].minutes * minutesCoeff)\n              )\n              setView('TOL-testing')\n            } else {\n              setView('INFO-end')\n              navigate('/results', { replace: true })\n              PanelBear.track('ViewResults')\n            }\n          }}\n          section={currentSection}\n          secondsUsed={timeRecord[currentSection] || 0}\n          sectionAnswers={answers[currentSection]}\n          sectionQuestions={props.questions[currentSection]}\n          minutes={sectionInfo[currentSection].minutes * minutesCoeff}\n        />\n      )\n    else return <div />\n  }\n\n  return (\n    <div>\n      <TopControls\n        active={view == 'TOL-testing'}\n        answers={answers}\n        closeSection={() => {\n          closeSection()\n        }}\n        currentSection={currentSection}\n        questions={props.questions}\n        timer={timer}\n      />\n      <RecapBar\n        active={view == 'TOL-testing'}\n        currentQuestionIndexState={currentQuestionIndexState}\n        sectionAnswers={answers[currentSection]}\n        sectionQuestions={sectionQuestions}\n      />\n      {getViewElement()}\n    </div>\n  )\n}\n\nfunction getTimerExpDate(minutes: number) {\n  const res = new Date()\n  res.setSeconds(res.getSeconds() + minutes * 60)\n  return res\n}\n","import { StyleSheet, theme } from '../../utils/style'\n\nconst styles = StyleSheet.create({\n  div: {\n    height: '15px',\n    backgroundColor: theme.primary\n  },\n  text: {\n    color: 'white',\n    margin: 'auto .5em',\n    fontSize: '9.5pt'\n  }\n})\n\ninterface SeparatorProps {\n  text?: string\n}\nexport default function Separator(props: SeparatorProps) {\n  return (\n    <div style={styles.div} className=\"do-not-print\">\n      <p style={styles.text}>{props.text || ''}</p>\n    </div>\n  )\n}\n","import { useState } from 'react'\nimport { StyleSheet } from '../../utils/style'\n\nconst styles = StyleSheet.create({\n  select: {\n    display: 'flex',\n    fontFamily: ' Arial',\n    fontSize: '9.5pt',\n    alignItems: 'center'\n  }\n})\n\ninterface SelectEntry {\n  label: string\n  value: string\n}\n\ninterface ButtonProps {\n  defaultValue?: string\n  disabled?: boolean\n  entries: SelectEntry[]\n  label?: string\n  onChange?: (newValue: string) => void\n  style?: React.CSSProperties\n}\n\nexport default function Select(props: ButtonProps) {\n  const [value, setValue] = useState(props.defaultValue)\n\n  return (\n    <label>\n      {props.label || ''}\n      <select\n        value={value}\n        onChange={(e) => {\n          const newValue = e.target.value\n          setValue(newValue)\n          props.onChange && props.onChange(newValue)\n        }}\n        style={styles.select}\n        disabled={props.disabled}\n      >\n        {props.entries.map((entry) => (\n          <option value={entry.value} key={entry.value}>\n            {entry.label}\n          </option>\n        ))}\n      </select>\n    </label>\n  )\n}\n","import { useEffect, useState } from 'react'\nimport {\n  Database,\n  Question as IQuestion,\n  readDatabase,\n  section,\n  sheetDict\n} from '../../utils/database'\nimport { baseStyle } from '../../utils/style'\nimport Question from '../Util/Question'\nimport Select from '../Util/Select'\n\nexport default function QPreview() {\n  const [isCustom, setIsCustom] = useState(true)\n\n  return (\n    <div style={baseStyle}>\n      <Select\n        label=\"Question type\"\n        entries={[\n          { value: 'custom', label: 'Custom' },\n          { value: 'database', label: 'Database' }\n        ]}\n        defaultValue=\"custom\"\n        onChange={(v) => setIsCustom(v === 'custom')}\n      />\n      {isCustom ? <CustomQ /> : <DatabaseQ />}\n    </div>\n  )\n}\n\nfunction DatabaseQ() {\n  const [dbRef, setDbRef] = useState<'main' | 'stable'>('main')\n  const [dbs, setDbs] = useState({} as Record<string, Database | Error>)\n  const [section, setSection] = useState('')\n  const [id, setID] = useState('')\n\n  useEffect(() => {\n    if (!dbs[dbRef] && !(dbs.dbRef instanceof Error)) {\n      readDatabase(dbRef)\n        .then((db) => {\n          setDbs({ ...dbs, [dbRef]: db })\n        })\n        .catch((e) => {\n          setDbs({ ...dbs, [dbRef]: e })\n        })\n    }\n  }, [dbRef])\n\n  return (\n    <div>\n      <Select\n        label=\"Database\"\n        entries={[\n          { value: 'stable', label: 'Production' },\n          { value: 'main', label: 'Development' }\n        ]}\n        defaultValue={dbRef}\n        onChange={(v) => setDbRef(v as 'main' | 'stable')}\n      />\n      <Select\n        label=\"Section\"\n        entries={[\n          ...Object.entries(sheetDict).map(([key, value]) => ({\n            label: key,\n            value\n          })),\n          ...(section ? [] : [{ label: '', value: '' }])\n        ]}\n        defaultValue={''}\n        onChange={(v) => {\n          setSection(v)\n          setID('')\n        }}\n        disabled={!dbs[dbRef] || dbs[dbRef] instanceof Error}\n      />\n      <Select\n        label=\"ID\"\n        entries={[\n          ...(dbs[dbRef] && !(dbs[dbRef] instanceof Error) && section\n            ? (dbs[dbRef] as Database)[section as section]\n                .filter((q) => q.id)\n                .map((q) => ({\n                  label: q.id + (q.sub ? ' - ' + q.sub : ''),\n                  value: q.id + (q.sub ? ' - ' + q.sub : '')\n                }))\n            : []),\n          ...[{ label: '', value: '' }]\n        ]}\n        defaultValue={''}\n        onChange={setID}\n        disabled={!dbs[dbRef] || dbs[dbRef] instanceof Error || !section}\n      />\n\n      {!dbs[dbRef] ? (\n        'Loading database...'\n      ) : dbs[dbRef] instanceof Error ? (\n        'Error while loading database:\\n' + dbs[dbRef]\n      ) : section && id ? (\n        QuestionRender({\n          q: (dbs[dbRef] as Database)[section as section].find((q) => {\n            const [i, s] = id.split(' - ')\n            return q.id == i && (s ? q.sub == s : true)\n          }),\n          dbRef\n        })\n      ) : (\n        <></>\n      )}\n    </div>\n  )\n}\n\nfunction CustomQ() {\n  const [text, setText] = useState('')\n  const [a, setA] = useState('')\n  const [b, setB] = useState('')\n  const [c, setC] = useState('')\n  const [d, setD] = useState('')\n  const [e, setE] = useState('')\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const t = (f: (..._: any[]) => any) => (e: any) => f(e.target.value)\n\n  return (\n    <div>\n      <label>\n        Testo:\n        <br />\n        <textarea value={text} onChange={t(setText)}></textarea>\n      </label>\n      <br />\n\n      <label>\n        A:\n        <br />\n        <textarea value={a} onChange={t(setA)}></textarea>\n      </label>\n      <br />\n\n      <label>\n        B:\n        <br />\n        <textarea value={b} onChange={t(setB)}></textarea>\n      </label>\n      <br />\n\n      <label>\n        C:\n        <br />\n        <textarea value={c} onChange={t(setC)}></textarea>\n      </label>\n      <br />\n\n      <label>\n        D:\n        <br />\n        <textarea value={d} onChange={t(setD)}></textarea>\n      </label>\n      <br />\n\n      <label>\n        E:\n        <br />\n        <textarea value={e} onChange={t(setE)}></textarea>\n      </label>\n      <br />\n      <br />\n      <QuestionRender q={{ text, answers: { a, b, c, d, e } } as IQuestion} />\n    </div>\n  )\n}\n\ninterface QuestionRenderProps {\n  q?: IQuestion\n  dbRef?: 'stable' | 'main'\n}\nfunction QuestionRender(props: QuestionRenderProps) {\n  const { q, dbRef } = props\n\n  return <>{q && <Question q={q} isDebug showAttachments dbRef={dbRef} />}</>\n}\n","import { useEffect, useState } from 'react'\nimport { Routes, Route, useLocation } from 'react-router-dom'\nimport { RibbonContainer, RightCornerRibbon } from 'react-ribbons'\nimport {\n  answerLetter,\n  section,\n  Database,\n  QuestionsData,\n  readDatabase,\n  selectRandomQuestions\n} from '../utils/database'\nimport { StyleSheet } from '../utils/style'\nimport DBPreview from './pages/DBPreview'\nimport ErrorView from './ErrorView'\nimport Footer from './Footer'\nimport Header from './Header'\nimport InfoView from './InfoView/InfoView'\nimport About from './pages/About'\nimport { License } from './pages/License'\nimport Privacy from './pages/Privacy'\nimport QuestionsForm from './QuestionsForm/QuestionsForm'\nimport Separator from './Util/Separator'\nimport QPreview from './pages/QPreview'\n\nimport { MobileContext, TestProvider } from '../utils/contexts'\n\nexport type view = 'INFO-start' | 'TOL-testing' | 'TOL-secRecap' | 'INFO-end'\n\nexport interface Answer {\n  id: string\n  sub?: string\n  letter: answerLetter | undefined\n  flagged: boolean\n}\n\nexport type AnswersData = Record<section, Answer[]>\n\nexport type TimeRecord = Partial<Record<section, number>>\n\nconst styles = StyleSheet.create({\n  app: { paddingInline: '8px' },\n  routeContainer: { paddingInline: '7.5px' }\n})\n\nexport default function App() {\n  const [database, loadDatabase] = useState<Database>()\n  const [questions, setQuestions] = useState<QuestionsData>()\n  const [view, setView] = useState<view>('INFO-start')\n  const sectionState = useState<section>('ing')\n  const answersState = useState<AnswersData>({\n    ing: [],\n    mat: [],\n    com: [],\n    fis: []\n  })\n  const timeRecordState = useState<TimeRecord>({})\n  const [loadingError, showError] = useState<[string, Error] | []>([])\n  const [mobile, setMobile] = useState<boolean>(false)\n\n  useEffect(() => {\n    if (!database)\n      readDatabase()\n        .then((db) => {\n          loadDatabase(db)\n          setQuestions(selectRandomQuestions(db))\n        })\n        .catch((e) => {\n          showError([\n            'There has been an issue while fetching the database data. Please retry later.',\n            e\n          ])\n        })\n\n    setMobile(window.innerWidth < 768)\n    window.addEventListener('resize', () => {\n      setMobile(window.innerWidth < 768)\n    })\n  }, [])\n\n  const location = useLocation()\n\n  useEffect(() => {\n    const testPaths = ['/', '/test', '/results']\n    const testingURL = testPaths.includes(location.pathname)\n    if (!testingURL || view === 'INFO-start') {\n      // in other pages or on the start of the test, the listener shouldn't be set\n      window.onbeforeunload = null\n    } else if (view.startsWith('TOL')) {\n      // set the listener only if view is during a test, at the recap it is set in ExtendedCorrection.tsx\n      window.onbeforeunload = () => {\n        return 'Sicuro di voler uscire? Il test è ancora in corso'\n      }\n    }\n\n    if (location.pathname !== '/results') {\n      // restore default title\n      // title was changed in '/results' to save pdf\n      // on firefox android with date in filename\n      document.title = 'The TOL Project'\n    }\n  }, [view, location])\n\n  return (\n    <MobileContext.Provider value={{ mobile }}>\n      <TestProvider>\n        <RibbonContainer>\n          {window &&\n            new URL(window.location.href).hostname ==\n              'polinetworkorg.github.io' && (\n              <RightCornerRibbon backgroundColor=\"#cc0000\" color=\"white\">\n                DEV\n              </RightCornerRibbon>\n            )}\n          <div style={styles.app}>\n            <Header viewState={[view, setView]} />\n            <Separator />\n            <div style={styles.routeContainer}>\n              <Routes>\n                <Route\n                  path=\"/\"\n                  element={\n                    // Don't ever think about moving this to an external component.\n                    <div>\n                      <ErrorView\n                        hidden={!loadingError[0]}\n                        display={loadingError[0] || ''}\n                        internal={loadingError[1]}\n                      />\n                      {view.startsWith('TOL') && questions ? (\n                        <QuestionsForm\n                          answersState={answersState}\n                          questions={questions as QuestionsData}\n                          sectionState={sectionState}\n                          timeRecordState={timeRecordState}\n                          viewState={[view, setView]}\n                        />\n                      ) : view.startsWith('INFO') && questions ? (\n                        <InfoView\n                          answers={answersState[0]}\n                          questions={questions}\n                          viewState={[view, setView]}\n                        />\n                      ) : undefined}\n                    </div>\n                  }\n                >\n                  <Route path=\"/test\" element={<div />} />\n                  <Route path=\"/results\" element={<div />} />\n                </Route>\n                <Route path=\"/about\" element={<About />} />\n                <Route path=\"/license\" element={<License />} />\n                <Route path=\"/privacy\" element={<Privacy />} />\n                <Route\n                  path=\"/dbpreview\"\n                  element={<DBPreview db={database} />}\n                />\n                <Route path=\"/qpreview\" element={<QPreview />} />\n              </Routes>\n            </div>\n            <Separator />\n            {!view.startsWith('TOL') && view != 'INFO-end' && (\n              <Footer view={view} />\n            )}\n          </div>\n        </RibbonContainer>\n      </TestProvider>\n    </MobileContext.Provider>\n  )\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { HashRouter } from 'react-router-dom'\nimport * as PanelBear from '@panelbear/panelbear-js'\nexport * as PanelBear from '@panelbear/panelbear-js'\n\nimport { I18nextProvider } from 'react-i18next'\nimport i18n from './i18n'\n\nimport App from './components/App'\n\nPanelBear.load('5FyulkL10oK')\n\nReactDOM.render(\n  <React.StrictMode>\n    <I18nextProvider i18n={i18n}>\n      <HashRouter>\n        <App />\n      </HashRouter>\n    </I18nextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}