{"version":3,"sources":["utils/constants.ts","utils/database.ts","utils/style.ts","components/Util/Button.tsx","components/Util/GeneralPurposeCollapsible.tsx","components/Util/QuestionAttachments.tsx","components/Util/RenderedText.tsx","components/Util/Question.tsx","components/pages/DBPreview.tsx","components/ErrorView.tsx","utils/contexts.tsx","components/Footer.tsx","../public/logo3000.webp","components/Header.tsx","components/InfoView/ExtendedCorrection/DocumentHeader.tsx","static/firefox_1.png","static/firefox_2.png","static/firefox_3.png","components/InfoView/ExtendedCorrection/ExtendedCorrection.tsx","components/InfoView/InfoEnd.tsx","components/InfoView/InfoStart.tsx","components/InfoView/InfoView.tsx","../public/telegram_logo.svg","components/pages/About.tsx","components/pages/License.tsx","components/pages/Privacy.tsx","components/QuestionsForm/AnswerForm.tsx","components/QuestionsForm/BottomControls.tsx","components/QuestionsForm/QuestionHeader.tsx","components/Util/CollapsibleText.tsx","components/QuestionsForm/QuestionView.tsx","components/QuestionsForm/RecapBar.tsx","components/QuestionsForm/SectionRecap.tsx","components/QuestionsForm/Timer.tsx","components/QuestionsForm/TopControls.tsx","components/QuestionsForm/QuestionsForm.tsx","components/Util/Separator.tsx","components/Util/Select.tsx","components/pages/QPreview.tsx","components/App.tsx","index.tsx"],"names":["links","sectionInfo","ing","name","order","sample","minutes","coeff","Fraction","mat","com","sub","fis","correctionWeight","getSectionName","key","members","tg","ah","prefix","sheetDict","quesiti_ING","quesiti_MAT","quesiti_COM","quesiti_FIS","readDatabase","a","ref","axios","get","data","db","meta","version","packageJson","Error","getImageURL","fileName","theme","baseStyle","fontFamily","color","StyleSheet","styles","fromEntries","Object","entries","map","value","reduce","acc","curr","formatNumber","num","addDecimals","parseFloat","round","toString","toLocaleString","minimumFractionDigits","maximumFractionDigits","replace","create","button","display","fontSize","alignItems","p","marginBlock","margin","icon","leftIcon","compose","this","float","marginRight","rightIcon","Button","props","style","onClick","label","outerDiv","collapsible","background","GeneralPurposeCollapsible","useState","startOpen","isOpen","setOpen","outerDivStyle","trigger","open","onOpen","onClose","easing","contentStyle","children","container","flexDirection","padding","gap","attachment","image","maxHeight","maxWidth","objectFit","QuestionAttachments","q","dbRef","attachments","length","index","src","RenderedText","text","question","option","result","textDecoration","paddingTop","TickSign","CrossSign","Question","isDebug","choice","isTest","showAttachments","id","valid","undefined","validated","String","correct","answers","letter","isCorrect","visibility","toUpperCase","ul","paddingLeft","DBPreview","filter","questions","ErrorView","hidden","internal","MobileContext","createContext","mobile","TestContext","isDsa","toggleDsa","TestProvider","setIsDsa","useEffect","localValue","localStorage","getItem","boolValue","JSON","parse","Provider","prev","val","setItem","stringify","justifyContent","paddingInline","link","flex","textAlign","mobileStyles","paddingBottom","Footer","useContext","linkStyle","className","href","target","rel","to","e","view","preventDefault","window","location","reload","div","height","centeredText","spacer","rightText","logoDiv","logo","buttonDiv","Header","viewState","startsWith","alt","logoLink","DocumentHeader","doc","printButton","alignSelf","centered","li","listStyleType","ol","img","marginTop","marginBottom","width","nowrap","whiteSpace","ExtendedCorrection","createRef","resultsDate","Date","printSupported","browser","userAgent","navigator","includes","getTitle","document","title","documentTitle","content","current","onAfterPrint","onbeforeunload","FirefoxInstructions","FallbackInstructions","PrintDocument","resultTable","docStyles","firstPage","forwardRef","dateTime","toLocaleDateString","toLocaleTimeString","timeStyle","sort","b","section","values","find","firefoxImg1","firefoxImg2","firefoxImg3","displayName","tableDiv","overflow","table","borderSpacing","tableCell","border","tableHeader","fontWeight","backgroundColor","h3","restartDiv","restartTitle","restartButton","InfoEnd","correctionGrid","secQuestions","notGiven","wrong","forEach","answer","total","weight","score","mul","correction","add","testPassed","parseInt","tengPassed","info","toFraction","InfoStart","startTest","htmlFor","userSelect","type","checked","onChange","transitionTime","InfoView","setView","useLocation","navigate","useNavigate","pathname","PanelBear","track","liDiv","telegramLink","telegramLogo","About","m","i","paddingBlock","licenseImg","borderWidth","marginLeft","License","property","Privacy","baseText","radioText","verticalAlign","radioSpan","AnswerForm","letterState","tmpAnswerState","currentQuestion","RadioRow","c","d","event","controlsDiv","BottomControls","tmpFlaggedState","flagged","setFlagged","updateAnswer","leftContainer","rightContainer","minWidth","answerLetter","marginInline","boxShadow","QuestionHeader","questionIndex","currentAnswer","shiftQuestionIndex","innerP","CollapsibleText","longText","trim","split","t","QuestionView","bordered","borderBottom","barContainer","boxSizing","bar","cellContainer","alignContent","cellSub","selectedCell","outline","RecapBar","sectionQuestions","active","sectionAnswers","AnswerCell","currentQuestionIndexState","selected","SectionRecap","secondsUsed","seconds","displayTime","Math","max","goToNextSection","time","floor","minimumIntegerDigits","clockWrapper","numbers","borderRadius","expiring","wordWrap","Timer","timer","hours","innerDiv","TopControls","currentSection","closeSection","testing","QuestionsForm","minutesCoeff","qIndex","originalSetQIndex","alertDisplayedState","sectionState","setSection","answersState","setAnswers","timeRecordState","timeRecord","setTimeRecord","shouldShowAlert","recapBarElement","getElementById","clientWidth","maxScroll","minScroll","scrollLeft","showAlert","alert","setQIndex","nextAnswers","nextTR","restart","ignoreAlert","next","shiftQIndex","offset","useTimer","expiryTimestamp","getTimerExpDate","onExpire","nextSection","sortedInfo","findIndex","getNextSection","getViewElement","res","setSeconds","getSeconds","Separator","select","Select","defaultValue","setValue","newValue","disabled","entry","QPreview","isCustom","setIsCustom","v","CustomQ","DatabaseQ","setDbRef","dbs","setDbs","setID","then","catch","QuestionRender","s","setText","setA","setB","setC","setD","setE","f","app","routeContainer","App","database","loadDatabase","setQuestions","loadingError","showError","setMobile","validQuestions","resIds","_","shuffle","uniq","slice","selectRandomQuestions","innerWidth","addEventListener","URL","hostname","path","element","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.28462606.chunk.js","sourcesContent":["import { section } from './database'\nimport Fraction from 'fraction.js'\n\nexport const links = {\n  githubLicense:\n    'https://github.com/PoliNetworkOrg/TheTOLProject/blob/main/LICENSE',\n  githubSource: 'https://github.com/PoliNetworkOrg/TheTOLProject/',\n  polinetwork: 'https://polinetwork.org',\n  privacyPanelbear: 'https://panelbear.com/cookie-free-analytics/',\n  telegramPreparazioneTOL: 'https://t.me/joinchat/_zugEikozmcyMzA0',\n  telegramTheTOLProject: 'https://t.me/+amLdTd-EoHw1MWRk'\n}\n\ninterface sectionInfoElement {\n  /** The readable name of the section */\n  name: string\n  /** The order in which the section should be tested */\n  order: number\n  /** The number of questions that should be selected */\n  sample: number\n  /** The number of sub-questions that should be selected (only applies to 'com') */\n  sub?: number\n  /** The maximum number of minutes that the user can use to complete a section */\n  minutes: number\n  /** The weight that this section's score has on the total score ({@link testTotalScore}) */\n  coeff: number | Fraction\n}\n\nexport const sectionInfo: Record<section, sectionInfoElement> = {\n  ing: {\n    name: 'Inglese',\n    order: 1,\n    sample: 30,\n    minutes: 15,\n    coeff: new Fraction('1/3')\n  },\n  mat: {\n    name: 'Matematica',\n    order: 2,\n    sample: 25,\n    minutes: 65,\n    coeff: 2.6\n  },\n  com: {\n    name: 'Comprensione verbale',\n    order: 3,\n    sample: 1,\n    sub: 5,\n    minutes: 10,\n    coeff: 3\n  },\n  fis: {\n    name: 'Fisica',\n    order: 4,\n    sample: 5,\n    minutes: 10,\n    coeff: 2\n  }\n}\n\nexport const DSATimeModifier = 1.3\n\nexport const testTotalScore = 100\n/** Minimum score to pass the test */\nexport const testPassThreshold = 60\n/** Minimum number of correct questions to pass the test */\nexport const tengPassThreshold = 24\n/** How to weight answer when calculating the section score */\nexport const correctionWeight = {\n  correct: 1,\n  wrong: -0.25,\n  notGiven: 0\n}\n\nexport function getSectionName(key: section) {\n  return sectionInfo[key].name\n}\n\nexport function getNextSection(currentSection: section): section | undefined {\n  const sortedInfo = Object.entries(sectionInfo).sort(\n    (a, b) => a[1].order - b[1].order\n  ) as [section, sectionInfoElement][]\n  const i = sortedInfo.findIndex((e) => e[0] == currentSection)\n  return (sortedInfo[i + 1] || [])[0]\n}\n\ninterface Member {\n  name: string\n  tg: string\n  ah?: boolean\n  prefix?: string\n}\n\nexport const members: Member[] = [\n  {\n    name: 'Gabriele Zanini',\n    tg: 'zagbc'\n  },\n  {\n    name: 'Federico Grandi',\n    tg: 'federico_grandi'\n  },\n  {\n    name: 'Ilaria Corcelli',\n    tg: 'iilaria01'\n  },\n  {\n    name: 'Matteo Salicandro',\n    tg: 'Mattysal'\n  },\n  {\n    name: 'Nicolas Facchin',\n    tg: 'RollyNoka'\n  },\n  {\n    name: 'Elia Maggioni',\n    tg: 'EliaMaggioni',\n    ah: true\n  },\n  {\n    name: 'Diego Aldarese',\n    tg: 'diegoaldarese',\n    ah: true\n  },\n  {\n    name: 'Tommaso Morganti',\n    tg: 'toto04_1'\n  },\n  {\n    name: 'Giovanni Menicucci',\n    tg: 'giova1211'\n  },\n  {\n    name: 'Nadia Scappini',\n    tg: 'nscapp',\n    prefix: 'Prof.ssa'\n  },\n  {\n    name: '@spyarect',\n    tg: 'spyarect',\n    ah: true\n  },\n  {\n    name: 'Clelia Di Leo',\n    tg: 'cloelia',\n    prefix: 'Prof.ssa'\n  }\n]\n","import axios from 'axios'\nimport fromEntries from 'fromentries'\nimport _ from 'underscore'\nimport packageJson from '../../package.json'\nimport { sectionInfo } from './constants'\n\nexport const sheetDict = {\n  quesiti_ING: 'ing',\n  quesiti_MAT: 'mat',\n  quesiti_COM: 'com',\n  quesiti_FIS: 'fis'\n} as const\nexport type section = typeof sheetDict[keyof typeof sheetDict]\n\nexport type answerLetter = 'a' | 'b' | 'c' | 'd' | 'e'\n\nexport interface Question {\n  id: string\n  text: string\n  answers: Record<answerLetter, string>\n  correct: answerLetter\n  attachments: string[]\n  validated: boolean\n\n  // These are only present for COM questions\n  sub?: string\n  track?: string\n}\n\nexport type QuestionsData = Record<section, Question[]>\n\nexport interface Database extends QuestionsData {\n  meta: {\n    version: string\n  }\n}\n\nexport async function readDatabase(ref = 'stable') {\n  const db = (\n    await axios.get(\n      `https://raw.githubusercontent.com/PoliNetworkOrg/TheTOLProjectData/${ref}/database.json`\n    )\n  )?.data as Database\n\n  if (db?.meta?.version != packageJson.version)\n    throw new Error(\n      `Database version doesn't match application.\\nDatabase: ${db?.meta?.version}\\nApp: ${packageJson.version}`\n    )\n\n  return db\n}\n\nexport function selectRandomQuestions(db: Database): QuestionsData {\n  return fromEntries(\n    // Manipulate db entries\n    (Object.entries(db) as [section /* or \"meta\" */, Question[]][])\n      // Select only entries associated with a section <=> exclude \"meta\"\n      .filter(([key]) => (Object.values(sheetDict) as string[]).includes(key))\n      .map(([key, questions]) => {\n        // Select only validated questions\n        const validQuestions = questions.filter((q) => q.validated)\n\n        // Get the question ids, remove duplicates, shuffle them, and select the appropriate number of questions.\n        const resIds = _.shuffle(_.uniq(validQuestions.map((v) => v.id))).slice(\n          0,\n          sectionInfo[key].sample\n        )\n\n        // Return only the questions with a selected ID\n        return [\n          key,\n          _.shuffle(validQuestions.filter((q) => resIds.includes(q.id)))\n        ]\n      })\n  ) as QuestionsData\n}\n\nexport function getImageURL(fileName: string, ref = 'stable') {\n  return `https://raw.githubusercontent.com/PoliNetworkOrg/TheTOLProjectData/${ref}/img/${fileName}`\n}\n","import Fraction from 'fraction.js'\nimport fromEntries from 'fromentries'\n\nexport const theme = {\n  boxShadow:\n    '1px 0 0 0 #606060, 0 1px 0 0 #606060, 1px 1px 0 0 #606060, /* corner */ 1px 0 0 0 #606060 inset, 0 1px 0 0 #606060 inset',\n  lightBackground: '#F3F3EE',\n  lightBorder: '#D5DFE4',\n  primary: '#069',\n  questionYellow: 'yellow',\n  questionGreen: '#00D700',\n  softBlack: '#333',\n  timerGreen: '#009527',\n  timerRed: 'red'\n}\n\nexport const baseStyle: React.CSSProperties = {\n  fontFamily: 'Verdana, Roboto',\n  color: theme.softBlack\n}\n\ntype CSSProperties = {\n  [key: string]: React.CSSProperties\n}\n\n/** Basic implementation of the StyleSheet class present in React Native */\nexport class StyleSheet {\n  static create<Styles extends CSSProperties>(styles: Styles): Styles {\n    return fromEntries(\n      Object.entries(styles).map(([key, value]) => [\n        key,\n        { ...baseStyle, ...value }\n      ])\n    ) as Styles\n  }\n\n  static compose(\n    ...styles: (React.CSSProperties | undefined | false)[]\n  ): React.CSSProperties {\n    return styles.reduce(\n      (acc, curr) => ({ ...acc, ...(curr || {}) }),\n      {}\n    ) as React.CSSProperties\n  }\n}\n\nexport function formatNumber(num: number | Fraction, addDecimals = false) {\n  return (\n    typeof num == 'number'\n      ? num\n      : parseFloat(num.round(addDecimals ? 2 : 0).toString())\n  )\n    .toLocaleString('it-IT', {\n      minimumFractionDigits: addDecimals ? 2 : 0,\n      maximumFractionDigits: 2\n    })\n    .replace(/\\./g, ',')\n}\n","import { StyleSheet } from '../../utils/style'\n\nconst styles = StyleSheet.create({\n  button: {\n    display: 'flex',\n    fontFamily: ' Arial',\n    fontSize: '9.5pt',\n    alignItems: 'center'\n  },\n  p: {\n    display: 'inline-block',\n    marginBlock: 0,\n    margin: 0,\n    fontFamily: 'Arial'\n  },\n  icon: {\n    display: 'flex'\n  },\n  get leftIcon() {\n    return StyleSheet.compose(this.icon, {\n      float: 'left',\n      marginRight: '2px'\n    })\n  },\n  get rightIcon() {\n    return StyleSheet.compose(this.icon, {\n      float: 'right',\n      marginRight: '2px'\n    })\n  }\n})\n\ninterface ButtonProps {\n  label: string\n  onClick?: () => void\n  style?: React.CSSProperties\n  leftIcon?: () => JSX.Element\n  rightIcon?: () => JSX.Element\n}\n\nexport default function Button(props: ButtonProps) {\n  return (\n    <button\n      style={StyleSheet.compose(styles.button, props.style || {})}\n      onClick={props.onClick}\n    >\n      <span style={styles.leftIcon}>{props.leftIcon && props.leftIcon()}</span>\n      <p style={styles.p}>{props.label}</p>\n      <span style={styles.rightIcon}>\n        {props.rightIcon && props.rightIcon()}\n      </span>\n    </button>\n  )\n}\n","import { ReactNode, useState } from 'react'\nimport Collapsible from 'react-collapsible'\nimport { StyleSheet, theme } from '../../utils/style'\nimport Button from './Button'\n\nconst styles = StyleSheet.create({\n  outerDiv: {\n    margin: '10px'\n  },\n  collapsible: {\n    background: theme.lightBackground,\n    margin: '5px'\n  }\n})\n\ninterface GeneralPurposeCollapsibleProps {\n  label: string\n  children: ReactNode\n  startOpen?: boolean\n  contentStyle?: React.CSSProperties\n  outerDivStyle?: React.CSSProperties\n  onOpen?: () => void\n  onClose?: () => void\n}\nexport default function GeneralPurposeCollapsible(\n  props: GeneralPurposeCollapsibleProps\n) {\n  const [isOpen, setOpen] = useState(props.startOpen ?? true)\n\n  return (\n    <div style={StyleSheet.compose(styles.outerDiv, props.outerDivStyle)}>\n      <Collapsible\n        trigger={\n          <Button label={props.label} onClick={() => setOpen(!isOpen)} />\n        }\n        open={isOpen}\n        onOpen={props.onOpen}\n        onClose={props.onClose}\n        easing=\"ease-in-out\"\n      >\n        <div style={StyleSheet.compose(styles.collapsible, props.contentStyle)}>\n          {props.children}\n        </div>\n      </Collapsible>\n    </div>\n  )\n}\n","import { getImageURL, Question } from '../../utils/database'\nimport { StyleSheet } from '../../utils/style'\nimport GeneralPurposeCollapsible from './GeneralPurposeCollapsible'\n\nconst styles = StyleSheet.create({\n  container: {\n    marginBlock: 0,\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  collapsible: {\n    padding: '10px',\n    display: 'flex',\n    flexDirection: 'column',\n    gap: '15px'\n  },\n  attachment: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'flex-start',\n    gap: '5px'\n  },\n  image: {\n    maxHeight: '500px',\n    maxWidth: '100%',\n    objectFit: 'contain'\n  }\n})\n\ninterface Props {\n  q: Question\n  dbRef: 'stable' | 'main'\n}\n\nexport default function QuestionAttachments({ q, dbRef }: Props) {\n  return (\n    <>\n      {q.attachments?.length && (\n        <GeneralPurposeCollapsible\n          label=\"mostra/nascondi immagini\"\n          startOpen={false}\n        >\n          {q.attachments.map((fileName, index) => (\n            <span key={index + 1} style={styles.attachment}>\n              <p style={styles.container}>Immagine {index + 1}:</p>\n              <img src={getImageURL(fileName, dbRef)} style={styles.image} />\n            </span>\n          ))}\n        </GeneralPurposeCollapsible>\n      )}\n    </>\n  )\n}\n","import Latex from 'react-latex'\n\ninterface RenderedTextProps {\n  text: string\n}\nexport default function RenderedText({ text }: RenderedTextProps) {\n  return <Latex>{text}</Latex>\n}\n","import { Question as IQuestion } from '../../utils/database'\nimport { StyleSheet } from '../../utils/style'\nimport QuestionAttachments from './QuestionAttachments'\nimport RenderedText from './RenderedText'\n\nconst styles = StyleSheet.create({\n  question: {\n    padding: 1\n  },\n  option: {\n    display: 'flex',\n    gap: 4,\n    margin: 4\n  },\n  result: {\n    textDecoration: 'underline',\n    paddingTop: 4,\n    display: 'block'\n  }\n})\n\nconst TickSign = () => <>&#10003;</>\nconst CrossSign = () => <>&#10007;</>\n\ninterface Props {\n  q: IQuestion\n  isDebug?: boolean\n  choice?: string\n  isTest?: boolean\n  showAttachments?: boolean\n  dbRef?: 'stable' | 'main'\n}\n\nexport default function Question({\n  q,\n  isDebug = false,\n  choice = '',\n  isTest = false,\n  showAttachments = false,\n  dbRef = 'stable'\n}: Props) {\n  const id = q.id && (q.sub ? `[${q.id}-${q.sub}] ` : `[${q.id}] `)\n  const valid = q.validated !== undefined && `Valid: ${String(q.validated)}`\n  let result = 'Senza risposta'\n  if (choice.length === 1) {\n    result = choice === q.correct ? 'Corretta' : 'Errata'\n  }\n\n  return (\n    <div style={styles.question}>\n      <p style={{ margin: 4 }}>\n        {isDebug && <span>{id}</span>}\n        <RenderedText text={q.text} />\n        {isTest && <span style={styles.result}>{result}</span>}\n      </p>\n      {showAttachments && <QuestionAttachments q={q} dbRef={dbRef} />}\n\n      {isDebug && <p>{valid}</p>}\n      {Object.entries(q.answers).map(([letter, text]) => {\n        const isCorrect = q.correct === letter\n        const visibility = isCorrect || choice === letter ? 'visible' : 'hidden'\n        return (\n          <p key={letter} style={styles.option}>\n            <span style={{ visibility }}>\n              {isCorrect ? <TickSign /> : <CrossSign />}\n            </span>\n            <span>{letter.toUpperCase()}. </span>\n            <RenderedText text={text} />\n          </p>\n        )\n      })}\n    </div>\n  )\n}\n","import { sectionInfo } from '../../utils/constants'\nimport { section, Database, Question as IQuestion } from '../../utils/database'\nimport { baseStyle, StyleSheet } from '../../utils/style'\nimport GeneralPurposeCollapsible from '../Util/GeneralPurposeCollapsible'\nimport Question from '../Util/Question'\n\nconst styles = StyleSheet.create({\n  ul: {\n    margin: 10,\n    paddingLeft: 16\n  }\n})\n\ninterface DBPreviewProps {\n  db?: Database\n}\n\nexport default function DBPreview({ db }: DBPreviewProps) {\n  return db ? (\n    <div>\n      {(\n        Object.entries(db).filter(([key]) => key != 'meta') as [\n          section,\n          IQuestion[]\n        ][]\n      ).map(([key, questions]) => (\n        <div key={key} style={baseStyle}>\n          <GeneralPurposeCollapsible\n            label={sectionInfo[key].name}\n            startOpen={false}\n          >\n            <ul style={styles.ul}>\n              {questions\n                .filter((q) => q.text || key == 'com')\n                .map((q) => (\n                  <li key={key + q.id + (q.sub || '')}>\n                    <Question q={q} isDebug={true} showAttachments />\n                  </li>\n                ))}\n            </ul>\n          </GeneralPurposeCollapsible>\n        </div>\n      ))}\n    </div>\n  ) : (\n    <div style={baseStyle}>Loading...</div>\n  )\n}\n","interface ErrorViewProps {\n  hidden: boolean\n  display: string\n  internal?: Error\n}\n\nexport default function ErrorView({\n  hidden,\n  display,\n  internal\n}: ErrorViewProps) {\n  return (\n    <div hidden={hidden}>\n      <h3>{display}</h3>\n      <blockquote>{internal + ''}</blockquote>\n    </div>\n  )\n}\n","import { createContext, useEffect, useState } from 'react'\n\nexport const MobileContext = createContext({\n  mobile: false\n})\n\ninterface ITestContext {\n  isDsa: boolean\n  toggleDsa: () => void\n}\nexport const TestContext = createContext<ITestContext>({\n  isDsa: false,\n  toggleDsa: () => {\n    // implemented in Provider\n  }\n})\n\ntype TestProviderProps = React.HTMLAttributes<React.ProviderProps<ITestContext>>\nexport const TestProvider = (props: TestProviderProps) => {\n  const [isDsa, setIsDsa] = useState<boolean>(false)\n\n  const toggleDsa = () => {\n    setIsDsa((prev) => {\n      const val = !prev\n      localStorage.setItem('is_dsa', JSON.stringify(val))\n      return val\n    })\n  }\n\n  useEffect(() => {\n    const localValue = localStorage.getItem('is_dsa')\n    if (localValue === null) return\n    const boolValue = JSON.parse(localValue)\n    setIsDsa(boolValue)\n  }, [])\n\n  return <TestContext.Provider value={{ isDsa: isDsa, toggleDsa }} {...props} />\n}\n","import { useContext } from 'react'\nimport { Link } from 'react-router-dom'\nimport { links } from '../utils/constants'\nimport { MobileContext } from '../utils/contexts'\nimport { StyleSheet, theme } from '../utils/style'\nimport { view } from './App'\n\nconst styles = StyleSheet.create({\n  container: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    paddingInline: '15em',\n    margin: '15px',\n    fontSize: '10pt',\n    color: theme.softBlack\n  },\n  link: {\n    display: 'flex',\n    flex: 1,\n    justifyContent: 'center',\n    textAlign: 'center',\n    color: 'inherit',\n    fontSize: '11pt'\n  }\n})\n\nconst mobileStyles = StyleSheet.create({\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingBottom: 16\n  },\n  link: StyleSheet.compose(styles.link, {\n    margin: 2\n  })\n})\n\nexport default function Footer(props: { view: view }) {\n  const { mobile } = useContext(MobileContext)\n  const linkStyle = mobile ? mobileStyles.link : styles.link\n  return (\n    <div\n      className=\"do-not-print\"\n      style={mobile ? mobileStyles.container : styles.container}\n    >\n      <a\n        href={links.githubSource}\n        style={linkStyle}\n        target=\"_blank\"\n        rel=\"noreferrer noopener\"\n      >\n        Source\n      </a>\n      <Link to=\"about\" style={linkStyle} replace>\n        About\n      </Link>\n      <Link\n        to=\"/\"\n        style={linkStyle}\n        onClick={(e) => {\n          if (props.view === 'INFO-end') {\n            // reload the page if we are in the recap, easier then resetting the state\n            e.preventDefault()\n            window.location.reload()\n          }\n        }}\n        replace\n      >\n        Home\n      </Link>\n      <Link to=\"license\" style={linkStyle} replace>\n        License\n      </Link>\n      <Link to=\"privacy\" style={linkStyle} replace>\n        Privacy & cookies\n      </Link>\n    </div>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/logo3000.34b8e2e9.webp\";","import { useContext } from 'react'\nimport { StyleSheet } from '../utils/style'\nimport { statePair } from '../utils/types'\nimport { view } from './App'\nimport logo from '../static/logo3000.webp'\nimport { links } from '../utils/constants'\nimport { MobileContext } from '../utils/contexts'\n\nconst styles = StyleSheet.create({\n  div: {\n    height: '70px',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between'\n  },\n  text: {\n    flex: 1,\n    fontSize: '18pt',\n    display: 'inline-block'\n  },\n  get centeredText() {\n    return StyleSheet.compose(this.text, this.spacer, {\n      justifyContent: 'center'\n    })\n  },\n  get rightText() {\n    return StyleSheet.compose(this.text, this.spacer, {\n      justifyContent: 'flex-end',\n      marginRight: 8\n    })\n  },\n  get logoDiv() {\n    return StyleSheet.compose(this.spacer, {\n      alignItems: 'center',\n      gap: '10px',\n      margin: '5px',\n      textDecoration: 'none'\n    })\n  },\n  logo: {\n    height: '60px'\n  },\n  buttonDiv: {\n    display: 'flex',\n    flex: 1,\n    justifyContent: 'flex-end'\n  },\n  spacer: {\n    display: ' flex',\n    flex: 1\n  }\n})\n\ninterface HeaderProps {\n  viewState: statePair<view>\n}\n\nexport default function Header({ viewState }: HeaderProps) {\n  const { mobile } = useContext(MobileContext)\n\n  return (\n    <div className=\"do-not-print\" style={styles.div}>\n      <a\n        style={StyleSheet.compose(styles.logoDiv, { flex: mobile ? 0 : 1 })}\n        {...(!viewState[0].startsWith('TOL')\n          ? {\n              rel: 'noreferrer noopener',\n              target: '_blank',\n              href: links.polinetwork\n            }\n          : {})}\n      >\n        <img src={logo} alt=\"logo\" style={styles.logo} />\n        {mobile ? undefined : <h1 style={styles.text}>PoliNetwork</h1>}\n      </a>\n      <h1 style={mobile ? styles.rightText : styles.centeredText}>\n        The TOL Project\n      </h1>\n      {mobile ? undefined : <div style={styles.spacer} />}\n    </div>\n  )\n}\n","import { StyleSheet } from '../../../utils/style'\nimport logo from '../../../static/logo3000.webp'\nimport { links } from '../../../utils/constants'\n\nconst styles = StyleSheet.create({\n  div: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between'\n  },\n  text: {\n    flex: 1,\n    fontSize: '18pt',\n    display: 'inline-block'\n  },\n  get rightText() {\n    return StyleSheet.compose(this.text, {\n      textAlign: 'right'\n    })\n  },\n  logoLink: {\n    flex: 1,\n    display: 'flex',\n    alignItems: 'center',\n    gap: '10px',\n    margin: '5px',\n    textDecoration: 'none'\n  },\n  logo: {\n    height: '60px'\n  }\n})\n\nexport default function DocumentHeader() {\n  return (\n    <div style={styles.div}>\n      <a\n        style={styles.logoLink}\n        rel=\"noreferrer noopener\"\n        target=\"_blank\"\n        href={links.polinetwork}\n      >\n        <img src={logo} alt=\"logo\" style={styles.logo} />\n        <h1 style={styles.text}>PoliNetwork</h1>\n      </a>\n      <h1 style={styles.rightText}>The TOL Project</h1>\n    </div>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/firefox_1.90eb3665.png\";","export default __webpack_public_path__ + \"static/media/firefox_2.b3e6c5bc.png\";","export default __webpack_public_path__ + \"static/media/firefox_3.d2388c27.png\";","import { createRef, forwardRef, ReactNode } from 'react'\nimport ReactToPrint from 'react-to-print'\nimport {\n  Question as IQuestion,\n  QuestionsData,\n  section\n} from '../../../utils/database'\nimport { AnswersData } from '../../App'\nimport { links, sectionInfo } from '../../../utils/constants'\nimport { StyleSheet, theme } from '../../../utils/style'\nimport Button from '../../Util/Button'\nimport './ExtendedCorrection.css'\nimport DocumentHeader from './DocumentHeader'\nimport firefoxImg1 from '../../../static/firefox_1.png'\nimport firefoxImg2 from '../../../static/firefox_2.png'\nimport firefoxImg3 from '../../../static/firefox_3.png'\nimport Question from '../../Util/Question'\n\nconst styles = StyleSheet.create({\n  collapsible: {\n    display: 'flex',\n    flexDirection: 'column',\n    padding: '15px',\n    gap: '10px'\n  },\n  doc: {},\n  printButton: {\n    display: 'inline-flex',\n    alignItems: 'center',\n    flexDirection: 'column',\n    alignSelf: 'center',\n    gap: '5px'\n  },\n  link: {\n    color: theme.primary\n  },\n  centered: {\n    textAlign: 'center'\n  },\n  li: {\n    margin: '10px'\n  },\n  ul: {\n    listStyleType: 'none'\n  },\n  ol: {\n    paddingLeft: 20\n  },\n  img: {\n    marginTop: 5,\n    marginBottom: 10,\n    maxWidth: 320,\n    width: '100%',\n    height: 'auto',\n    objectFit: 'cover'\n  },\n  nowrap: { whiteSpace: 'nowrap' }\n})\n\n// using 'other' as fallback because\n// other browsers may no longer support the api\ntype Browser = 'FirefoxAndroid' | 'other'\n\ninterface ExtendedCorrectionProps {\n  answers: AnswersData\n  questions: QuestionsData\n  resultTable: ReactNode\n}\n\nexport default function ExtendedCorrection(props: ExtendedCorrectionProps) {\n  const ref = createRef<HTMLDivElement>()\n  // save date to variable to keep the date\n  // when the test was taken\n  const resultsDate = new Date()\n  const printSupported: boolean = 'print' in window\n\n  let browser: Browser = 'other'\n  const userAgent = navigator.userAgent\n  if (userAgent.includes('Firefox') && userAgent.includes('Android')) {\n    browser = 'FirefoxAndroid'\n  }\n\n  const getTitle = (): string =>\n    `The TOL Project ${resultsDate\n      .toLocaleString()\n      .replace(/\\/|:/g, '-')\n      .replace(/,/g, '')}`\n\n  if (!printSupported) {\n    document.title = getTitle()\n  }\n\n  return (\n    <div style={styles.collapsible}>\n      {printSupported ? (\n        <div style={styles.printButton} className=\"do-not-print\">\n          <ReactToPrint\n            documentTitle={getTitle()}\n            content={() => ref.current}\n            trigger={() => <Button label=\"Salva risultati della simulazione\" />}\n            onAfterPrint={() => {\n              // remove the onbeforeunload listener since results are saved\n              window.onbeforeunload = null\n            }}\n          />\n        </div>\n      ) : (\n        <>\n          {browser === 'FirefoxAndroid' && <FirefoxInstructions />}\n          {browser === 'other' && <FallbackInstructions />}\n        </>\n      )}\n      <PrintDocument\n        ref={ref}\n        resultTable={props.resultTable}\n        questions={props.questions}\n        answers={props.answers}\n      />\n    </div>\n  )\n}\n\nconst docStyles = StyleSheet.create({\n  firstPage: {\n    display: 'flex',\n    flexDirection: 'column',\n    gap: 4\n  },\n  li: {\n    marginBottom: 10\n  }\n})\n\nconst PrintDocument = forwardRef<HTMLDivElement, ExtendedCorrectionProps>(\n  (props: ExtendedCorrectionProps, ref) => {\n    const dateTime = `${new Date().toLocaleDateString()} alle ${new Date().toLocaleTimeString(\n      [],\n      { timeStyle: 'short' }\n    )}`\n    const { resultTable, questions, answers } = props\n    return (\n      <div className=\"print-only\" ref={ref} style={styles.doc}>\n        <div style={docStyles.firstPage}>\n          <DocumentHeader />\n          <p style={styles.centered}>Simulazione del {dateTime}</p>\n          {resultTable}\n          <p>\n            Hai delle domande sui quesiti e la loro risoluzione? Falle sul{' '}\n            <a\n              href={links.telegramPreparazioneTOL}\n              target=\"_blank\"\n              rel=\"noreferrer noopener\"\n              style={styles.link}\n            >\n              Gruppo preparazione TOL\n            </a>{' '}\n            di PoliNetwork!\n          </p>\n          <p>\n            Nelle pagine successive troverai, suddivisi per sezione, i quesiti\n            che ti sono stati proposti con il relativo esito.\n          </p>\n        </div>\n        {(Object.entries(questions) as [section, IQuestion[]][])\n          .sort((a, b) => sectionInfo[a[0]].order - sectionInfo[b[0]].order)\n          .map(([section, values]) => (\n            <div key={section}>\n              <b>{sectionInfo[section].name}</b>\n              <ol>\n                {values.map((q) => {\n                  const letter = answers[section].find(\n                    (a) => a?.id == q.id && a?.sub == q.sub\n                  )?.letter\n                  return (\n                    <li key={q.id + (q.sub || '')} style={docStyles.li}>\n                      <Question q={q} choice={letter} isTest />\n                    </li>\n                  )\n                })}\n              </ol>\n            </div>\n          ))}\n      </div>\n    )\n  }\n)\nPrintDocument.displayName = 'Document'\n\nfunction FirefoxInstructions() {\n  return (\n    <div className=\"do-not-print\">\n      <h3>Salva i tuoi risultati</h3>\n      <p>Il tuo browser (Firefox Android) non supporta la stampa automatica.</p>\n      <p>Per salvare i risultati segui questi passaggi: </p>\n      <ol style={styles.ol}>\n        <li>Apri il menu di Firefox</li>\n        <img src={firefoxImg1} style={styles.img} />\n\n        <li>Premi il tasto per condividere</li>\n        <img src={firefoxImg2} style={styles.img} />\n\n        <li>Nel menu che si apre, premi su \"Salva come PDF\"</li>\n        <img src={firefoxImg3} style={styles.img} />\n      </ol>\n    </div>\n  )\n}\n\nfunction FallbackInstructions() {\n  return (\n    <div className=\"do-not-print\">\n      <h3>Salva i tuoi risultati</h3>\n      <p>\n        Per il tuo browser non è supportata la stampa automatica del PDF con i\n        risultati.\n      </p>\n      <p>\n        Puoi provare ad utilizzare la funzione \"Sala come PDF\" del tuo browser\n        che potrebbe essere nel menu di condivisione oppure nel menu principale\n        del browser.\n      </p>\n      <p>\n        Ti invitiamo a segnalare il tuo browser{' '}\n        <a href=\"https://github.com/PoliNetworkOrg/TheTOLProject/issues/35\">\n          qui\n        </a>{' '}\n        in modo da poter risolvere il problema{' '}\n      </p>\n    </div>\n  )\n}\n","import Fraction from 'fraction.js'\nimport fromEntries from 'fromentries'\nimport {\n  correctionWeight,\n  getSectionName,\n  sectionInfo,\n  tengPassThreshold,\n  testPassThreshold,\n  testTotalScore\n} from '../../utils/constants'\nimport { Question, QuestionsData, section } from '../../utils/database'\nimport { formatNumber, StyleSheet, theme } from '../../utils/style'\nimport { AnswersData } from '../App'\nimport Button from '../Util/Button'\nimport ExtendedCorrection from './ExtendedCorrection/ExtendedCorrection'\n\nconst styles = StyleSheet.create({\n  div: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    fontSize: '11pt'\n  },\n  tableDiv: {\n    alignSelf: 'center',\n    width: '100%',\n    overflow: 'auto',\n    display: 'flex'\n  },\n  table: { borderSpacing: 0, margin: 'auto' },\n  tableCell: {\n    padding: '5px',\n    paddingInline: '10px',\n    textAlign: 'center',\n    border: `thin solid ${theme.lightBorder}`,\n    borderSpacing: '0px',\n    fontSize: '9.5pt'\n  },\n  get tableHeader() {\n    return StyleSheet.compose(this.tableCell, {\n      fontWeight: 'bold',\n      backgroundColor: theme.lightBackground,\n      textAlign: 'left'\n    })\n  },\n  centeredText: {\n    textAlign: 'center'\n  },\n  p: {\n    padding: '10px',\n    textAlign: 'justify'\n  },\n  resultTable: { display: 'flex', flexDirection: 'column' },\n  h3: {\n    marginBottom: 0,\n    paddingInline: '10px'\n  },\n  restartDiv: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    flexDirection: 'column'\n  },\n  restartTitle: {\n    textAlign: 'center',\n    maxWidth: 500\n  },\n  restartButton: {\n    margin: '12px',\n    marginBottom: '32px'\n  }\n})\n\ninterface InfoEndProps {\n  answers: AnswersData\n  questions: QuestionsData\n}\nexport default function InfoEnd(props: InfoEndProps) {\n  const { answers, questions } = props\n\n  const correctionGrid = fromEntries(\n    (Object.entries(questions) as [section, Question[]][]).map(\n      ([section, secQuestions]) => {\n        let correct = 0,\n          notGiven = 0,\n          wrong = 0\n\n        secQuestions.forEach((q) => {\n          const answer = answers[section].find(\n            (a) => a && a.id == q.id && a.sub == q.sub\n          )\n\n          if (!answer || !answer.letter) notGiven++\n          else if (answer.letter == q.correct) correct++\n          else wrong++\n        })\n\n        const total = secQuestions.length,\n          sample = sectionInfo[section].sample,\n          sub = sectionInfo[section].sub || 1,\n          weight = sectionInfo[section].coeff\n\n        return [\n          section,\n          {\n            total,\n            correct,\n            notGiven,\n            wrong,\n            weight,\n            score: new Fraction(\n              correctionWeight.correct * correct +\n                correctionWeight.wrong * wrong +\n                correctionWeight.notGiven * notGiven\n            )\n              .div(total)\n              .mul(sample * sub)\n          }\n        ]\n      }\n    )\n  )\n\n  const score = (\n    Object.entries(correctionGrid) as [section, typeof correctionGrid[string]][]\n  )\n    .map(([, correction]) => correction.score.mul(correction.weight))\n    .reduce((acc, curr) => acc.add(curr), new Fraction(0))\n\n  const roundedScore = parseInt(score.round(0).toString(0))\n  const testPassed = roundedScore >= testPassThreshold,\n    tengPassed = correctionGrid.ing?.correct >= tengPassThreshold\n\n  const resultTable = () => (\n    <div style={styles.resultTable}>\n      <p style={styles.centeredText}>\n        <br />\n        TOL{' '}\n        {testPassed\n          ? `superato${!tengPassed ? ' (OFA TENG)' : ''}`\n          : `non superato: OFA TEST${!tengPassed ? ' + OFA TENG' : ''}`}\n        <br />\n        Punteggio: {formatNumber(score)} / {formatNumber(testTotalScore)} (\n        {formatNumber(score, true)})\n      </p>\n      <br />\n\n      <div style={styles.tableDiv}>\n        <table style={styles.table}>\n          <tr>\n            <td></td>\n            <td style={styles.tableHeader}>Punteggio sezione</td>\n            <td style={styles.tableHeader}>N° quesiti</td>\n            <td style={styles.tableHeader}>Esatti</td>\n            <td style={styles.tableHeader}>Errati</td>\n            <td style={styles.tableHeader}>Senza risposta</td>\n          </tr>\n          {(\n            Object.entries(correctionGrid) as [\n              section,\n              typeof correctionGrid[section]\n            ][]\n          )\n            .sort((a, b) => sectionInfo[a[0]].order - sectionInfo[b[0]].order)\n            .map(([section, correction]) => (\n              <tr key={section}>\n                <td style={styles.tableHeader}>{getSectionName(section)}</td>\n                <td style={styles.tableCell}>\n                  {formatNumber(correction.score, true)}\n                </td>\n                <td style={styles.tableCell}>{correction.total}</td>\n                <td style={styles.tableCell}>{correction.correct}</td>\n                <td style={styles.tableCell}>{correction.wrong}</td>\n                <td style={styles.tableCell}>{correction.notGiven}</td>\n              </tr>\n            ))}\n        </table>\n      </div>\n      <br />\n    </div>\n  )\n\n  return (\n    <div style={styles.div}>\n      <div className=\"do-not-print\">{resultTable()}</div>\n\n      <ExtendedCorrection\n        answers={props.answers}\n        questions={props.questions}\n        resultTable={resultTable()}\n      />\n\n      <div className=\"do-not-print\">\n        <h3 style={styles.h3}>Come viene calcolato il punteggio</h3>\n        <p style={styles.p}>\n          Il <b>punteggio massimo</b> conseguibile{' '}\n          <b>è di {formatNumber(testTotalScore, true)}</b> e viene espresso fino\n          alla seconda cifra decimale.\n          <br />\n          L'attribuzione di <b>OFA TEST</b> (Obblighi Formativi Aggiunti)\n          avviene quando il punteggio test, arrotondato all'intero più vicino,{' '}\n          <b>è minore di {formatNumber(testPassThreshold)}</b>.<br />\n          L'attribuzione di <b>OFA TENG</b> avviene quando, considerando la sola\n          sezione di {sectionInfo.ing.name}, il numero di risposte corrette{' '}\n          <b>è inferiore a {formatNumber(tengPassThreshold)}</b>.\n          <br />\n          <br />\n          Il <b>punteggio</b> della prova viene calcolato attribuendo:\n          <ul>\n            <li>\n              {formatNumber(correctionWeight.correct)} punto ad ogni risposta\n              esatta\n            </li>\n            <li>\n              {formatNumber(correctionWeight.wrong)} punti ad ogni risposta\n              errata\n            </li>\n            <li>\n              {formatNumber(correctionWeight.notGiven)} punti per ogni risposta\n              non data\n            </li>\n          </ul>\n          e assegnando\n          <ul>\n            {Object.entries(sectionInfo).map(([, info], index) => (\n              <li key={index}>\n                peso{' '}\n                {typeof info.coeff == 'number'\n                  ? formatNumber(info.coeff)\n                  : info.coeff.toFraction()}{' '}\n                ad ogni quesito di {info.name}\n              </li>\n            ))}\n          </ul>\n          Il <b>punteggio</b> complessivo viene arrotondato all'intero più\n          vicino (es: il punteggio 59,49 viene arrotondato a 59, il punteggio\n          59,50 a 60)\n        </p>\n        <div style={styles.restartDiv}>\n          <h3 style={styles.restartTitle}>\n            Ricordati di salvare i tuoi risultati prima di iniziare un nuovo\n            test, o andranno persi!\n          </h3>\n          <Button\n            label=\"Inizia un nuovo test\"\n            style={styles.restartButton}\n            onClick={() => {\n              window.location.reload()\n            }}\n          />\n        </div>\n      </div>\n    </div>\n  )\n}\n","import { useContext } from 'react'\nimport Collapsible from 'react-collapsible'\nimport { TestContext } from '../../utils/contexts'\nimport { StyleSheet } from '../../utils/style'\nimport Button from '../Util/Button'\n\nconst styles = StyleSheet.create({\n  div: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    margin: '10px auto',\n    marginBlock: '16px',\n    maxWidth: 600,\n    textAlign: 'center'\n  },\n  centered: {\n    display: 'block'\n  },\n  buttonDiv: {\n    margin: '16px',\n    display: 'flex',\n    fontSize: 14,\n    gap: 6\n  }\n})\n\ninterface InfoStartProps {\n  startTest: () => void\n}\nexport default function InfoStart({ startTest }: InfoStartProps) {\n  const { isDsa, toggleDsa } = useContext(TestContext)\n  return (\n    <div style={styles.div}>\n      <p>\n        <span style={styles.centered}>DISCLAIMER</span>\n        <br />\n        \"The TOL Project\" (Progetto) non è in alcun modo collegato al\n        Politecnico di Milano ma è gestito gratuitamente da studenti. Gli autori\n        del Progetto non si assumono alcuna responsabilità, né garantiscono\n        espressamente o implicitamente l'accuratezza o l'affidabilità dei\n        contenuti di questo sito ai fini del superamento del test di ammissione\n        del Politecnico di Milano.\n        <br />\n        <br />\n        <span style={styles.centered}>---</span>\n        <br />\n        \"The TOL Project\" (Project) is in no way connected to Politecnico di\n        Milano but is managed free of charge by students. The authors of the\n        Project do not assume any responsibility, nor do they expressly or\n        implicitly guarantee the accuracy or reliability of the contents of this\n        site for the purpose of passing the admission test at Politecnico di\n        Milano.\n      </p>\n      <div style={styles.buttonDiv}>\n        <Button\n          style={{ fontSize: 14 }}\n          label=\"Inizia il test\"\n          onClick={startTest}\n        />\n        <label htmlFor=\"dsa_toggle\" style={{ userSelect: 'none' }}>\n          <input\n            id=\"dsa_toggle\"\n            type=\"checkbox\"\n            checked={isDsa}\n            onChange={toggleDsa}\n          />\n          Studente con DSA\n        </label>\n      </div>\n      <Collapsible trigger={<></>} open={isDsa} transitionTime={150}>\n        <p>\n          Gli studenti con Disturbi Specifici dell'Apprendimento (DSA) che\n          affrontano il TOL, possono usufruire di un tempo supplementare pari al\n          30%, previa segnalazione in fase di iscrizione al test. <br />È\n          inoltre richiesta una certificazione attestante la diagnosi di DSA.{' '}\n          <br />\n          Selezionando \"Studente con DSA\" viene applicato il tempo bonus anche\n          in questa simulazione.\n        </p>\n      </Collapsible>\n    </div>\n  )\n}\n","import { Navigate, useLocation, useNavigate } from 'react-router'\nimport { PanelBear } from '../..'\nimport { QuestionsData } from '../../utils/database'\nimport { statePair } from '../../utils/types'\nimport { AnswersData, view } from '../App'\nimport InfoEnd from './InfoEnd'\nimport InfoStart from './InfoStart'\n\ninterface InfoViewProps {\n  answers: AnswersData\n  questions: QuestionsData\n  viewState: statePair<view>\n}\nexport default function InfoView(props: InfoViewProps) {\n  const [view, setView] = props.viewState,\n    location = useLocation(),\n    navigate = useNavigate()\n\n  if (\n    (location.pathname == '/test' && !view.startsWith('TOL')) ||\n    (location.pathname == '/results' && view != 'INFO-end')\n  ) {\n    setView('INFO-start')\n    return <Navigate to=\"/\" replace />\n  }\n\n  return view == 'INFO-start' ? (\n    <InfoStart\n      startTest={() => {\n        setView('TOL-testing')\n        navigate('/test', { replace: true })\n        PanelBear.track('TestStart')\n      }}\n    />\n  ) : view == 'INFO-end' ? (\n    <InfoEnd answers={props.answers} questions={props.questions} />\n  ) : (\n    <div />\n  )\n}\n","export default __webpack_public_path__ + \"static/media/telegram_logo.1ca7c840.svg\";","import { links, members } from '../../utils/constants'\nimport { StyleSheet, theme } from '../../utils/style'\nimport telegramLogo from '../../static/telegram_logo.svg'\n\nconst styles = StyleSheet.create({\n  p: {\n    margin: '20px',\n    textAlign: 'justify'\n  },\n  centered: {\n    textAlign: 'center'\n  },\n  link: {\n    display: 'flex',\n    color: theme.primary,\n    gap: '5px',\n    alignItems: 'center'\n  },\n  liDiv: {\n    display: 'flex',\n    gap: '5px',\n    alignItems: 'center',\n    flexDirection: 'row'\n  },\n  telegramLink: {\n    display: 'flex'\n  },\n  telegramLogo: {\n    height: '17.5px'\n  }\n})\n\nexport default function About() {\n  return (\n    <>\n      <p style={styles.p}>\n        Per poter essere ammessi alla scuola di Ingegneria del Politecnico di\n        Milano (PoliMi), le aspiranti matricole devono superare il test di\n        ammissione (TOL).\n        <br />\n        Tra le risorse che il PoliMi offre gratuitamente per prepararsi abbiamo:\n        il Politest, una raccolta di esercizi commentati e risolti, la DOL, una\n        demo online con un numero ridotto di domande, e due test di\n        autovalutazione completi (pdf con domande, xls con risposte esatte).\n        <br />\n        <br />\n        Non avevamo dunque una simulazione TOL completa e basata sul web, ovvero\n        nello stesso ambiente in cui le future matricole sosterranno il test di\n        ammissione.\n        <br />\n        Ci siamo posti l'obiettivo di creare una simulazione TOL completa e\n        gratuita, al fine di fornire alle aspiranti matricole un ambiente\n        familiare dove esercitarsi, molto simile a quello che incontreranno al\n        test di ammissione.\n        <br />\n        Il progetto è completamente gestito dagli studenti, dallo sviluppo\n        dell'applicazione web alla creazione delle domande TOL.\n      </p>\n      <p style={styles.centered}>---</p>\n      <p style={styles.p}>\n        In order to be admitted to the Engineering school of the Politecnico di\n        Milano (PoliMi), the aspiring freshmen must pass the admission test\n        (TOL).\n        <br />\n        Among the resources that PoliMi offers for free to prepare, you can\n        find: the Politest, a collection of commented and solved exercises, the\n        DOL, an online demo with a limited number of questions, and two complete\n        self-assessment tests (pdf with questions, xls with exact answers).\n        <br />\n        <br />\n        Thus, we did not have a complete, web-based TOL simulation, that is, in\n        the same environment in which the future freshmen will take the\n        admission test.\n        <br />\n        We have set ourself the goal of creating a complete and free TOL\n        simulation, in order to provide aspiring freshmen with a familiar\n        environment in which to practice, very similar to the one they will\n        encounter at the admission test.\n        <br />\n        The project is fully managed by students, from developing the web\n        application to creating the TOL questions.\n      </p>\n      <p style={styles.p}>\n        <br />\n        <b>Team del progetto (Project team)</b>\n        <br />\n        <ul>\n          {members\n            .filter((m) => !m.ah)\n            .sort((a, b) =>\n              a.name.toUpperCase() > b.name.toUpperCase() ? 1 : -1\n            )\n            .map((m, i) => (\n              <li key={i}>\n                <div style={styles.liDiv}>\n                  {(m.prefix || '') + ' ' + m.name}{' '}\n                  <a\n                    href={`https://t.me/${m.tg}`}\n                    target=\"_blank\"\n                    rel=\"noreferrer noopener\"\n                    style={styles.telegramLink}\n                  >\n                    <img src={telegramLogo} style={styles.telegramLogo}></img>\n                  </a>\n                </div>\n              </li>\n            ))}\n        </ul>\n        Ad hoc:\n        <ul>\n          {members\n            .filter((m) => !!m.ah)\n            .sort((a, b) =>\n              a.name.toUpperCase() > b.name.toUpperCase() ? 1 : -1\n            )\n            .map((m, i) => (\n              <li key={i}>\n                <div style={styles.liDiv}>\n                  {m.name}{' '}\n                  <a\n                    href={`https://t.me/${m.tg}`}\n                    target=\"_blank\"\n                    rel=\"noreferrer noopener\"\n                    style={styles.telegramLink}\n                  >\n                    <img src={telegramLogo} style={styles.telegramLogo}></img>\n                  </a>\n                </div>\n              </li>\n            ))}\n        </ul>\n        <br />\n        <b>Gruppi di supporto (Support groups)</b>\n        <ul>\n          <li>\n            <div style={styles.liDiv}>\n              Segnalazioni e informazioni sul progetto (Project feedback &\n              info):{' '}\n              <a\n                href={links.telegramTheTOLProject}\n                target=\"_blank\"\n                rel=\"noreferrer noopener\"\n                style={styles.link}\n              >\n                The TOL Project{' '}\n                <span style={styles.telegramLink}>\n                  <img src={telegramLogo} style={styles.telegramLogo}></img>\n                </span>\n              </a>\n            </div>\n          </li>\n          <li>\n            <div style={styles.liDiv}>\n              Quesiti TOL e loro risoluzione (TOL questions and their\n              resolution):{' '}\n              <a\n                href={links.telegramPreparazioneTOL}\n                target=\"_blank\"\n                rel=\"noreferrer noopener\"\n                style={styles.link}\n              >\n                Gruppo preparazione TOL{' '}\n                <span style={styles.telegramLink}>\n                  <img src={telegramLogo} style={styles.telegramLogo}></img>\n                </span>\n              </a>\n            </div>\n          </li>\n        </ul>\n      </p>\n    </>\n  )\n}\n","import { links } from '../../utils/constants'\nimport { StyleSheet } from '../../utils/style'\n\nconst styles = StyleSheet.create({\n  div: {\n    paddingBlock: '15px'\n  },\n  centered: {\n    textAlign: 'center'\n  },\n  licenseImg: {\n    borderWidth: 0,\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    display: 'block'\n  }\n})\n\nexport function License() {\n  return (\n    <div style={styles.div}>\n      <a\n        rel=\"license noreferrer noopener\"\n        href=\"https://creativecommons.org/licenses/by-sa/4.0/\"\n        target=\"_blank\"\n      >\n        <img\n          alt=\"Creative Commons License\"\n          style={styles.licenseImg}\n          src=\"https://i.creativecommons.org/l/by-sa/4.0/88x31.png\"\n        />\n      </a>\n      <p>\n        <span\n          {...{ 'xmlns:dct': 'https://purl.org/dc/terms/' }}\n          property=\"dct:title\"\n        >\n          The TOL Project\n        </span>{' '}\n        by{' '}\n        <a\n          {...{ 'xmlns:cc': 'https://creativecommons.org/ns#' }}\n          href=\"https://polinetwork.org/it/projects/\"\n          property=\"cc:attributionName\"\n          rel=\"cc:attributionURL noreferrer noopener\"\n          target=\"_blank\"\n        >\n          PoliNetwork\n        </a>{' '}\n        è rilasciato sotto una licenza{' '}\n        <a\n          rel=\"license noreferrer noopener\"\n          href=\"https://creativecommons.org/licenses/by-sa/4.0/\"\n          target=\"_blank\"\n        >\n          Creative Commons Attribution-ShareAlike 4.0 International License\n        </a>\n        . Permessi che vanno oltre l'ambito di questa licenza posso essere\n        disponibili{' '}\n        <a\n          {...{ 'xmlns:cc': 'https://creativecommons.org/ns#' }}\n          href={links.githubLicense}\n          rel=\"cc:morePermissions noreferrer noopener\"\n          target=\"_blank\"\n        >\n          qui\n        </a>\n        .\n      </p>\n      <p style={styles.centered}>---</p>\n      <p>\n        <span\n          {...{ 'xmlns:dct': 'https://purl.org/dc/terms/' }}\n          property=\"dct:title\"\n        >\n          The TOL Project\n        </span>{' '}\n        by{' '}\n        <a\n          {...{ 'xmlns:cc': 'https://creativecommons.org/ns#' }}\n          href=\"https://polinetwork.org/it/projects/\"\n          property=\"cc:attributionName\"\n          rel=\"cc:attributionURL noreferrer noopener\"\n          target=\"_blank\"\n        >\n          PoliNetwork\n        </a>{' '}\n        is licensed under a{' '}\n        <a\n          rel=\"license noreferrer noopener\"\n          href=\"https://creativecommons.org/licenses/by-sa/4.0/\"\n          target=\"_blank\"\n        >\n          Creative Commons Attribution-ShareAlike 4.0 International License\n        </a>\n        . Permissions beyond the scope of this license may be available{' '}\n        <a\n          {...{ 'xmlns:cc': 'https://creativecommons.org/ns#' }}\n          href={links.githubLicense}\n          rel=\"cc:morePermissions noreferrer noopener\"\n          target=\"_blank\"\n        >\n          here\n        </a>\n        .\n      </p>\n    </div>\n  )\n}\n","import { links } from '../../utils/constants'\nimport { StyleSheet } from '../../utils/style'\n\nconst styles = StyleSheet.create({\n  p: { paddingBlock: '15px' },\n  centered: {\n    textAlign: 'center',\n    display: 'block'\n  }\n})\n\nexport default function Privacy() {\n  return (\n    <p style={styles.p}>\n      Questo sito utilizza un tracker non invasivo per tener traccia della sua\n      performance, nel rispetto delle norme GDPR. Il sito non salva nessun\n      cookie permanente: ogni dato trasmesso è in forma anonima e non\n      riconducibile all'utente. Per maggiori informazioni, visita la pagina{' '}\n      <a\n        href={links.privacyPanelbear}\n        target=\"_blank\"\n        rel=\"noreferrer noopener\"\n      >\n        \"Cookie Free Website Analytics\" di PanelBear\n      </a>\n      .\n      <br />\n      <br />\n      <span style={styles.centered}>---</span>\n      <br />\n      This website uses a non-invasive tracker to keep track of its performance,\n      complying with GDPR. The website does not store any permanent cookie:\n      transmitted data is anonymized and not traceable to the user. For more\n      info, check out{' '}\n      <a\n        href={links.privacyPanelbear}\n        target=\"_blank\"\n        rel=\"noreferrer noopener\"\n      >\n        PanelBear's \"Cookie Free Website Analytics\"\n      </a>{' '}\n      web page.\n    </p>\n  )\n}\n","import { Question } from '../../utils/database'\nimport { StyleSheet } from '../../utils/style'\nimport { statePair } from '../../utils/types'\nimport { Answer } from '../App'\nimport RenderedText from '../Util/RenderedText'\n\nconst styles = StyleSheet.create({\n  baseText: {\n    fontSize: '11pt'\n  },\n  label: {\n    display: 'flex',\n    marginBottom: '2px'\n  },\n  radioText: {\n    display: 'flex',\n    fontWeight: 'bold',\n    textAlign: 'center',\n    verticalAlign: 'middle',\n    paddingInline: '10px',\n    alignItems: 'flex-start'\n  },\n  radioSpan: {\n    width: '2em',\n    float: 'left',\n    display: 'inline-block'\n  }\n})\n\ninterface AnswerFormProps {\n  currentAnswer: Answer | undefined\n  currentQuestion: Question\n  tmpAnswerState: statePair<Answer['letter']>\n}\n\nexport default function AnswerForm(props: AnswerFormProps) {\n  const letterState = props.tmpAnswerState\n\n  if (!props.currentQuestion)\n    return (\n      <span style={styles.baseText}>\n        <br />\n        No answers to display ¯\\_(ツ)_/¯\n      </span>\n    )\n\n  return (\n    <div>\n      <RadioRow\n        letter=\"a\"\n        letterState={letterState}\n        text={props.currentQuestion.answers.a}\n      />\n      <RadioRow\n        letter=\"b\"\n        letterState={letterState}\n        text={props.currentQuestion.answers.b}\n      />\n      <RadioRow\n        letter=\"c\"\n        letterState={letterState}\n        text={props.currentQuestion.answers.c}\n      />\n      <RadioRow\n        letter=\"d\"\n        letterState={letterState}\n        text={props.currentQuestion.answers.d}\n      />\n      <RadioRow\n        letter=\"e\"\n        letterState={letterState}\n        text={props.currentQuestion.answers.e}\n      />\n      <RadioRow letter={undefined} letterState={letterState} text=\"Non so\" />\n    </div>\n  )\n}\n\ninterface RadioRowProps {\n  letter: Answer['letter']\n  letterState: statePair<Answer['letter']>\n  text: string\n}\nfunction RadioRow(props: RadioRowProps) {\n  return (\n    <tr style={styles.baseText}>\n      <label style={styles.label}>\n        <td style={styles.radioText}>\n          <span style={styles.radioSpan}>\n            {props.letter?.toUpperCase() || '?'}{' '}\n          </span>\n          <input\n            type=\"radio\"\n            value={props.letter}\n            checked={props.letter == props.letterState[0]}\n            onChange={(event) => {\n              // @ts-expect-error The value is correct\n              props.letterState[1](event.target.value || undefined)\n            }}\n          />\n        </td>\n        <td>\n          <RenderedText text={props.text} />\n        </td>\n      </label>\n    </tr>\n  )\n}\n","import { StyleSheet, theme } from '../../utils/style'\nimport { FaCheck } from 'react-icons/fa'\nimport Button from '../Util/Button'\nimport { statePair } from '../../utils/types'\nimport { Answer } from '../App'\nimport { Question } from '../../utils/database'\n\nconst styles = StyleSheet.create({\n  controlsDiv: {\n    display: 'flex',\n    flex: 1,\n    justifyContent: 'flex-end',\n    fontSize: '9.5pt',\n    verticalAlign: 'middle',\n    gap: '10px',\n    paddingBlock: '10px'\n  },\n  label: { display: 'flex', alignItems: 'center' },\n  icon: { color: theme.timerGreen }\n})\n\ninterface BottomControlsProps {\n  currentQuestion: Question\n  tmpAnswerState: statePair<Answer['letter']>\n  tmpFlaggedState: statePair<boolean>\n  updateAnswer: (updatedAnswer: Answer) => void\n}\nexport default function BottomControls(props: BottomControlsProps) {\n  const [flagged, setFlagged] = props.tmpFlaggedState\n\n  if (!props.currentQuestion) return <div style={styles.controlsDiv} />\n\n  return (\n    <div style={styles.controlsDiv}>\n      <label style={styles.label}>\n        <input\n          type=\"checkbox\"\n          checked={flagged}\n          onChange={() => {\n            setFlagged(!flagged)\n          }}\n        />\n        <span>Da rivedere</span>\n      </label>\n      <Button\n        label=\"Conferma e vai alla successiva\"\n        leftIcon={() => <FaCheck style={styles.icon} />}\n        onClick={() => {\n          props.updateAnswer({\n            id: props.currentQuestion.id,\n            sub: props.currentQuestion.sub,\n            letter: props.tmpAnswerState[0],\n            flagged\n          })\n        }}\n      />\n    </div>\n  )\n}\n","import { useContext } from 'react'\nimport { Question } from '../../utils/database'\nimport { StyleSheet, theme } from '../../utils/style'\nimport { Answer } from '../App'\nimport { IoMdArrowRoundBack, IoMdArrowRoundForward } from 'react-icons/io'\nimport Button from '../Util/Button'\nimport { MobileContext } from '../../utils/contexts'\n\nconst styles = StyleSheet.create({\n  container: {\n    display: 'flex',\n    justifyContent: 'space-between'\n  },\n  leftContainer: {\n    display: 'flex'\n  },\n  rightContainer: {\n    display: 'flex',\n    padding: '1em',\n    gap: '5px'\n  },\n  p: {\n    textAlign: 'left',\n    fontSize: '11pt',\n    minWidth: '4em',\n    padding: '7.5px'\n  },\n  get question() {\n    return StyleSheet.compose(this.p, {\n      fontWeight: 'bold',\n      width: '7.1em',\n      paddingLeft: 0\n    })\n  },\n  get answerLetter() {\n    return StyleSheet.compose(this.p, {\n      textAlign: 'center',\n      marginInline: '5px',\n      boxShadow: theme.boxShadow\n    })\n  },\n  icon: {\n    height: '17.5px',\n    width: '17.5px',\n    color: theme.primary\n  },\n  button: {\n    paddingBlock: 0\n  }\n})\n\nconst mobileStyles = StyleSheet.create({\n  container: StyleSheet.compose(styles.container, {\n    flexDirection: 'column-reverse'\n  }),\n  rightContainer: StyleSheet.compose(styles.rightContainer, {\n    justifyContent: 'space-between'\n  })\n})\n\ninterface QuestionHeaderProps {\n  currentAnswer: Answer\n  questionIndex: number\n  sectionQuestions: Question[]\n  shiftQuestionIndex: (offset: number) => void\n}\nexport default function QuestionHeader(props: QuestionHeaderProps) {\n  const { mobile } = useContext(MobileContext)\n  return (\n    <div style={mobile ? mobileStyles.container : styles.container}>\n      <div style={styles.leftContainer}>\n        <p style={styles.question}>Domanda {props.questionIndex + 1}</p>\n        <p\n          style={StyleSheet.compose(styles.answerLetter, {\n            backgroundColor: props.currentAnswer?.flagged\n              ? theme.questionYellow\n              : props.currentAnswer?.letter\n              ? theme.questionGreen\n              : 'inherit'\n          })}\n        >\n          {(props.currentAnswer?.letter?.toUpperCase() || '') +\n            (props.currentAnswer?.flagged ? '?' : '') || ' '}\n        </p>\n        <p style={styles.p}>\n          Risposta {props.currentAnswer?.letter ? '' : 'non '}data\n        </p>\n      </div>\n      <div style={mobile ? mobileStyles.rightContainer : styles.rightContainer}>\n        <Button\n          label=\"precedente\"\n          onClick={() => props.shiftQuestionIndex(-1)}\n          style={styles.button}\n          leftIcon={() => <IoMdArrowRoundBack style={styles.icon} />}\n        />\n        <Button\n          label=\"successiva\"\n          onClick={() => props.shiftQuestionIndex(1)}\n          style={styles.button}\n          rightIcon={() => <IoMdArrowRoundForward style={styles.icon} />}\n        />\n      </div>\n    </div>\n  )\n}\n","import { StyleSheet } from '../../utils/style'\nimport GeneralPurposeCollapsible from './GeneralPurposeCollapsible'\n\nconst styles = StyleSheet.create({\n  p: {\n    margin: '2px',\n    padding: '10px',\n    textAlign: 'justify'\n  },\n  innerP: { padding: '1px', margin: 0 }\n})\n\ninterface CollapsibleTextProps {\n  label: string\n  longText: string\n  startOpen?: boolean\n}\nexport default function CollapsibleText(props: CollapsibleTextProps) {\n  return (\n    <GeneralPurposeCollapsible label={props.label} startOpen={props.startOpen}>\n      <div style={styles.p}>\n        {props.longText\n          .trim()\n          .split('\\n')\n          .map((t, i) => (\n            <p style={styles.innerP} key={i}>\n              {t}\n            </p>\n          ))}\n      </div>\n    </GeneralPurposeCollapsible>\n  )\n}\n","import { Question } from '../../utils/database'\nimport { StyleSheet } from '../../utils/style'\nimport CollapsibleText from '../Util/CollapsibleText'\nimport QuestionAttachments from '../Util/QuestionAttachments'\nimport RenderedText from '../Util/RenderedText'\n\nconst styles = StyleSheet.create({\n  container: {\n    marginBlock: 0,\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  collapsible: {\n    padding: '10px',\n    display: 'flex',\n    flexDirection: 'column',\n    gap: '15px'\n  },\n  attachment: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'flex-start',\n    gap: '5px'\n  },\n  image: {\n    maxHeight: '500px',\n    maxWidth: '100%',\n    objectFit: 'contain'\n  }\n})\n\ninterface QuestionViewProps {\n  question: Question\n}\n\nexport default function QuestionView({ question }: QuestionViewProps) {\n  if (!question)\n    return (\n      <span style={styles.container}>No question to display ¯\\_(ツ)_/¯</span>\n    )\n\n  return (\n    <div style={{ marginBottom: question.attachments?.length ? 0 : '15px' }}>\n      {question.track && (\n        <CollapsibleText\n          label=\"mostra/nascondi brano\"\n          longText={question.track}\n        />\n      )}\n      <div style={styles.container}>\n        <RenderedText text={question.text}></RenderedText>\n        <QuestionAttachments q={question} dbRef=\"stable\" />\n      </div>\n    </div>\n  )\n}\n","import { answerLetter, section, QuestionsData } from '../../utils/database'\nimport { StyleSheet, theme } from '../../utils/style'\nimport { statePair } from '../../utils/types'\nimport { AnswersData } from '../App'\n\nconst styles = StyleSheet.create({\n  bordered: {\n    borderBottom: 'thin solid #606060'\n  },\n  barContainer: {\n    width: '100%',\n    boxSizing: 'border-box',\n    overflow: 'auto hidden',\n    padding: '5px 2.5px 5px 0'\n  },\n  bar: {\n    display: 'flex',\n    fontSize: '9.5pt',\n    textDecoration: 'none',\n    color: theme.primary\n  },\n  cellContainer: {\n    display: 'flex',\n    flex: '1 0 25px',\n    flexDirection: 'column',\n    alignContent: 'baseline',\n    textAlign: 'center',\n    maxWidth: '4em',\n    backgroundColor: theme.lightBackground\n  },\n  cellSub: {\n    padding: '0.3em',\n    height: '1.2em',\n    boxShadow: theme.boxShadow\n  },\n  selectedCell: {\n    outline: `5px solid ${theme.primary}`,\n    marginInline: '4px',\n    color: 'black'\n  },\n  p: { margin: 'auto' }\n})\n\ninterface RecapBarProps {\n  active: boolean\n  currentQuestionIndexState: statePair<number>\n  sectionAnswers: AnswersData[section]\n  sectionQuestions: QuestionsData[section]\n}\nexport default function RecapBar(props: RecapBarProps) {\n  return (\n    <div style={styles.barContainer} id=\"recap-bar-container\">\n      <a\n        style={StyleSheet.compose(styles.bar, {\n          minWidth: props.sectionQuestions.length * 25 + 10\n        })}\n        {...(props.active ? { href: '#' } : {})}\n      >\n        {props.sectionQuestions.map((q, i) => {\n          const answer = props.sectionAnswers.find(\n            (a) => a && a.id == q.id && (q.sub ? q.sub == a.sub : true)\n          )\n          return (\n            <AnswerCell\n              key={i}\n              index={i}\n              letter={answer?.letter}\n              flagged={answer?.flagged || false}\n              onClick={() => {\n                if (props.active) props.currentQuestionIndexState[1](i)\n              }}\n              selected={props.active && props.currentQuestionIndexState[0] == i}\n            />\n          )\n        })}\n      </a>\n    </div>\n  )\n}\n\ninterface AnswerCellProps {\n  index: number\n  letter: answerLetter | undefined\n  flagged: boolean\n  onClick: () => void\n  selected: boolean\n}\nfunction AnswerCell(props: AnswerCellProps) {\n  return (\n    <div\n      style={StyleSheet.compose(\n        styles.cellContainer,\n        props.selected && styles.selectedCell\n      )}\n      onClick={props.onClick}\n    >\n      <div\n        style={StyleSheet.compose(\n          styles.cellSub,\n          styles.bordered,\n          props.selected && { fontWeight: 'bold' }\n        )}\n      >\n        <p style={styles.p}>{props.index + 1}</p>\n      </div>\n      <div\n        style={StyleSheet.compose(styles.cellSub, {\n          backgroundColor: props.flagged\n            ? theme.questionYellow\n            : props.letter\n            ? theme.questionGreen\n            : 'white'\n        })}\n      >\n        <p style={styles.p}>\n          {props.letter?.toUpperCase() || ' '}\n          {props.flagged && '?'}\n        </p>\n      </div>\n    </div>\n  )\n}\n","import { sectionInfo } from '../../utils/constants'\nimport { QuestionsData, section } from '../../utils/database'\nimport { StyleSheet } from '../../utils/style'\nimport { AnswersData } from '../App'\nimport Button from '../Util/Button'\n\nconst styles = StyleSheet.create({\n  container: {\n    display: 'flex',\n    paddingTop: '10px',\n    paddingBottom: '20px',\n    alignItems: 'center',\n    flexDirection: 'column'\n  }\n})\n\ninterface SectionRecapProps {\n  goToNextSection: () => void\n  section: section\n  sectionAnswers: AnswersData[section]\n  sectionQuestions: QuestionsData[section]\n  secondsUsed: number\n  minutes: number\n}\nexport default function SectionRecap({\n  minutes,\n  secondsUsed,\n  ...props\n}: SectionRecapProps) {\n  const order = sectionInfo[props.section].order\n  const seconds = minutes * 60\n  return (\n    <div style={styles.container}>\n      <p>\n        {'Tempo utilizzato: '}\n        <span>\n          {displayTime((secondsUsed / 60) % 60)}:{displayTime(secondsUsed / 60)}\n          :{displayTime(secondsUsed % 60)}\n        </span>\n        {' / '}\n        <span>\n          {displayTime(minutes / 60)}:{displayTime(minutes % 60)}:\n          {displayTime(seconds % 60)}\n        </span>\n        {' ('}\n        <span>\n          {displayTime((seconds - secondsUsed) / 60 / 60)}:\n          {displayTime(((seconds - secondsUsed) / 60) % 60)}:\n          {displayTime((seconds - secondsUsed) % 60)} rimanente)\n        </span>\n      </p>\n      <Button\n        label={\n          order == Math.max(...Object.values(sectionInfo).map((i) => i.order))\n            ? 'Vedi esito del test'\n            : 'Prossima sezione'\n        }\n        onClick={props.goToNextSection}\n      />\n    </div>\n  )\n}\n\nfunction displayTime(time: number) {\n  return Math.floor(time).toLocaleString(undefined, {\n    minimumIntegerDigits: 2\n  })\n}\n","import { useContext } from 'react'\nimport { TimerResult } from 'react-timer-hook'\nimport { StyleSheet, theme } from '../../utils/style'\nimport { FiClock } from 'react-icons/fi'\nimport { MobileContext } from '../../utils/contexts'\n\nconst alertThreshold = 60\n\nconst styles = StyleSheet.create({\n  container: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: '5px'\n  },\n  clockWrapper: {\n    color: theme.timerGreen,\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: '5px'\n  },\n  numbers: {\n    display: 'flex',\n    fontWeight: 'bold',\n    color: 'inherit',\n    border: '2px solid',\n    borderRadius: '4px',\n    height: '1.75em',\n    fontSize: '1.25em',\n    alignItems: 'center',\n    paddingInline: '10px'\n  },\n  expiring: {\n    color: theme.timerRed\n  },\n  icon: {\n    color: 'inherit',\n    height: '2.5em',\n    width: 'auto'\n  },\n  p: {\n    display: 'flex',\n    fontSize: '0.75em',\n    maxWidth: '12em',\n    textAlign: 'left',\n    wordWrap: 'normal'\n  }\n})\n\ninterface TimerProps {\n  timer: TimerResult\n}\nexport default function Timer(props: TimerProps) {\n  const { mobile } = useContext(MobileContext)\n  const { timer } = props\n\n  return (\n    <div\n      style={\n        mobile\n          ? StyleSheet.compose(styles.container, {\n              alignSelf: 'flex-end',\n              marginBottom: '1em'\n            })\n          : styles.container\n      }\n    >\n      <div\n        style={StyleSheet.compose(\n          styles.clockWrapper,\n          (timer.hours * 60 + timer.minutes) * 60 + timer.seconds <\n            alertThreshold && styles.expiring\n        )}\n      >\n        <FiClock style={styles.icon} />\n        <div style={styles.numbers}>\n          {timer.hours.toLocaleString(undefined, {\n            minimumIntegerDigits: 2\n          })}\n          :\n          {timer.minutes.toLocaleString(undefined, {\n            minimumIntegerDigits: 2\n          })}\n          :\n          {timer.seconds.toLocaleString(undefined, { minimumIntegerDigits: 2 })}\n        </div>\n      </div>\n      {mobile ? undefined : (\n        <p style={styles.p}>\n          Tempo rimanente\n          <br /> per la sezione corrente\n        </p>\n      )}\n    </div>\n  )\n}\n","import { useContext } from 'react'\nimport { TimerResult } from 'react-timer-hook'\nimport { getSectionName } from '../../utils/constants'\nimport { MobileContext } from '../../utils/contexts'\nimport { section, QuestionsData } from '../../utils/database'\nimport { StyleSheet } from '../../utils/style'\nimport { AnswersData } from '../App'\nimport Button from '../Util/Button'\nimport Timer from './Timer'\n\nconst styles = StyleSheet.create({\n  outerDiv: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between'\n  },\n  innerDiv: {\n    display: 'flex',\n    alignItems: 'center',\n    flexDirection: 'row',\n    gap: '15px',\n    fontSize: '11pt'\n  }\n})\n\nconst mobileStyles = StyleSheet.create({\n  outerDiv: StyleSheet.compose(styles.outerDiv, {\n    flexDirection: 'column'\n  }),\n  innerDiv: StyleSheet.compose(styles.innerDiv, {\n    width: '100%',\n    justifyContent: 'space-between'\n  })\n})\n\ninterface TopControlsProps {\n  active: boolean\n  answers: AnswersData\n  closeSection: () => void\n  currentSection: section\n  timer: TimerResult\n  questions: QuestionsData\n}\n\nexport default function TopControls(props: TopControlsProps) {\n  const { mobile } = useContext(MobileContext)\n  const { currentSection } = props\n\n  return (\n    <div style={mobile ? mobileStyles.outerDiv : styles.outerDiv}>\n      <div style={mobile ? mobileStyles.innerDiv : styles.innerDiv}>\n        <div>\n          <p>\n            Sezione: <b>{getSectionName(currentSection)}</b> <br />\n            Riposte:{' '}\n            {\n              props.answers[currentSection].filter((a) => !!a.letter).length\n            } / {props.questions[currentSection].length}\n            {mobile && <br />}\n            {props.active &&\n              ` (${props.answers[currentSection].reduce(\n                (acc, curr) => acc + (curr.flagged ? 1 : 0),\n                0\n              )} da rivedere)`}\n          </p>\n        </div>\n        {props.active && (\n          <Button label=\"Chiudi sezione\" onClick={props.closeSection} />\n        )}\n      </div>\n      <Timer timer={props.timer} />\n    </div>\n  )\n}\n","import { useContext, useEffect, useState } from 'react'\nimport { useNavigate } from 'react-router'\nimport { useTimer } from 'react-timer-hook'\nimport { PanelBear } from '../..'\nimport {\n  DSATimeModifier,\n  getNextSection,\n  sectionInfo\n} from '../../utils/constants'\nimport { TestContext } from '../../utils/contexts'\nimport { section, QuestionsData } from '../../utils/database'\nimport { StyleSheet } from '../../utils/style'\nimport { statePair } from '../../utils/types'\nimport { Answer, AnswersData, TimeRecord, view } from '../App'\nimport AnswerForm from './AnswerForm'\nimport BottomControls from './BottomControls'\nimport QuestionHeader from './QuestionHeader'\nimport QuestionView from './QuestionView'\nimport RecapBar from './RecapBar'\nimport SectionRecap from './SectionRecap'\nimport TopControls from './TopControls'\n\nconst styles = StyleSheet.create({\n  testing: { display: 'flex', flexDirection: 'column' }\n})\n\ninterface QuestionsFormProps {\n  answersState: statePair<AnswersData>\n  questions: QuestionsData\n  sectionState: statePair<section>\n  timeRecordState: statePair<TimeRecord>\n  viewState: statePair<view>\n}\nexport default function QuestionsForm(props: QuestionsFormProps) {\n  const { isDsa } = useContext(TestContext)\n  const minutesCoeff = isDsa ? DSATimeModifier : 1\n  const [qIndex, originalSetQIndex] = useState(0),\n    tmpFlaggedState = useState(false),\n    tmpAnswerState = useState<Answer['letter']>(),\n    alertDisplayedState = useState(false)\n\n  const [currentSection, setSection] = props.sectionState,\n    [view, setView] = props.viewState,\n    [answers, setAnswers] = props.answersState,\n    [timeRecord, setTimeRecord] = props.timeRecordState\n\n  const sectionQuestions = props.questions[props.sectionState[0]],\n    currentQuestion = sectionQuestions[qIndex],\n    currentAnswer = answers[currentSection][qIndex],\n    shouldShowAlert =\n      !alertDisplayedState[0] &&\n      (tmpAnswerState[0] != currentAnswer?.letter ||\n        tmpFlaggedState[0] != (currentAnswer?.flagged || false))\n\n  useEffect(() => {\n    // called when the qIndex is updated (the user changes question)\n    // sets the scroll of the recap bar container to keep the selected question in view\n    const recapBarElement = document.getElementById('recap-bar-container')\n    if (!recapBarElement) return\n\n    // this width works ok considering margins, widths, and paddings of the elements\n    const width = recapBarElement.clientWidth - 40\n    // 25 is the min width of a question cell, 2px margin to see the cell before\n    const maxScroll = qIndex * 25 - 2\n    const minScroll = maxScroll - width\n\n    // the scrollLeft musth be kept between the two values\n    if (recapBarElement.scrollLeft < minScroll)\n      recapBarElement.scrollLeft = minScroll\n    if (recapBarElement.scrollLeft > maxScroll)\n      recapBarElement.scrollLeft = maxScroll\n  }, [qIndex])\n\n  const showAlert = () => {\n    alert(\n      `Se prima non premi \"Conferma e vai alla successiva\" la risposta non verrà salvata.`\n    )\n    alertDisplayedState[1](true)\n  }\n\n  const closeSection = () => {\n    if (shouldShowAlert) return showAlert()\n    // else it's already reset by setQIndex\n\n    setView('TOL-secRecap')\n    setQIndex(0)\n    tmpAnswerState[1](undefined)\n    tmpFlaggedState[1](false)\n\n    const nextAnswers = answers\n    nextAnswers[currentSection] = nextAnswers[currentSection].map((a) => ({\n      ...a,\n      flagged: false\n    }))\n    setAnswers(nextAnswers)\n\n    const nextTR = timeRecord\n    nextTR[currentSection] =\n      sectionInfo[currentSection].minutes * minutesCoeff * 60 -\n      ((timer.hours * 60 + timer.minutes) * 60 + timer.seconds)\n    setTimeRecord(nextTR)\n\n    timer.restart(new Date(), false)\n  }\n\n  const setQIndex = (\n    index: React.SetStateAction<number>,\n    ignoreAlert = false\n  ) => {\n    if (shouldShowAlert && !ignoreAlert) {\n      showAlert()\n    } else {\n      const next = answers[currentSection][index as number]\n\n      tmpFlaggedState[1](next?.flagged || false)\n      tmpAnswerState[1](next?.letter || undefined)\n      alertDisplayedState[1](false)\n\n      originalSetQIndex(index)\n    }\n  }\n\n  const shiftQIndex = (offset: number, ignoreAlert = false) => {\n    const next =\n      (qIndex + offset + sectionQuestions.length) % sectionQuestions.length || 0\n    return setQIndex(next, ignoreAlert)\n  }\n\n  const timer = useTimer({\n    expiryTimestamp: getTimerExpDate(\n      sectionInfo[currentSection].minutes * minutesCoeff\n    ),\n    onExpire: () => {\n      timer.seconds = 0\n      closeSection()\n    }\n  })\n\n  const currentQuestionIndexState: statePair<number> = [qIndex, setQIndex]\n  if (!props.questions) return <span>Loading...</span>\n\n  const getViewElement = () => {\n    const navigate = useNavigate()\n\n    if (view == 'TOL-testing')\n      return (\n        <div style={styles.testing}>\n          <QuestionHeader\n            currentAnswer={currentAnswer}\n            questionIndex={qIndex}\n            shiftQuestionIndex={shiftQIndex}\n            sectionQuestions={sectionQuestions}\n          />\n          <QuestionView question={currentQuestion} />\n          <AnswerForm\n            currentAnswer={currentAnswer}\n            currentQuestion={currentQuestion}\n            tmpAnswerState={tmpAnswerState}\n          />\n          <BottomControls\n            currentQuestion={currentQuestion}\n            tmpAnswerState={tmpAnswerState}\n            tmpFlaggedState={tmpFlaggedState}\n            updateAnswer={(a) => {\n              const next = answers\n              next[currentSection][qIndex] = a\n              setAnswers(next)\n              shiftQIndex(1, true)\n            }}\n          />\n        </div>\n      )\n    else if (view == 'TOL-secRecap')\n      return (\n        <SectionRecap\n          goToNextSection={() => {\n            const nextSection = getNextSection(currentSection)\n            if (nextSection) {\n              setSection(nextSection)\n              timer.restart(\n                getTimerExpDate(sectionInfo[nextSection].minutes * minutesCoeff)\n              )\n              setView('TOL-testing')\n            } else {\n              setView('INFO-end')\n              navigate('/results', { replace: true })\n              PanelBear.track('ViewResults')\n            }\n          }}\n          section={currentSection}\n          secondsUsed={timeRecord[currentSection] || 0}\n          sectionAnswers={answers[currentSection]}\n          sectionQuestions={props.questions[currentSection]}\n          minutes={sectionInfo[currentSection].minutes * minutesCoeff}\n        />\n      )\n    else return <div />\n  }\n\n  return (\n    <div>\n      <TopControls\n        active={view == 'TOL-testing'}\n        answers={answers}\n        closeSection={() => {\n          closeSection()\n        }}\n        currentSection={currentSection}\n        questions={props.questions}\n        timer={timer}\n      />\n      <RecapBar\n        active={view == 'TOL-testing'}\n        currentQuestionIndexState={currentQuestionIndexState}\n        sectionAnswers={answers[currentSection]}\n        sectionQuestions={sectionQuestions}\n      />\n      {getViewElement()}\n    </div>\n  )\n}\n\nfunction getTimerExpDate(minutes: number) {\n  const res = new Date()\n  res.setSeconds(res.getSeconds() + minutes * 60)\n  return res\n}\n","import { StyleSheet, theme } from '../../utils/style'\n\nconst styles = StyleSheet.create({\n  div: {\n    height: '15px',\n    backgroundColor: theme.primary\n  },\n  text: {\n    color: 'white',\n    margin: 'auto .5em',\n    fontSize: '9.5pt'\n  }\n})\n\ninterface SeparatorProps {\n  text?: string\n}\nexport default function Separator(props: SeparatorProps) {\n  return (\n    <div style={styles.div} className=\"do-not-print\">\n      <p style={styles.text}>{props.text || ''}</p>\n    </div>\n  )\n}\n","import { useState } from 'react'\nimport { StyleSheet } from '../../utils/style'\n\nconst styles = StyleSheet.create({\n  select: {\n    display: 'flex',\n    fontFamily: ' Arial',\n    fontSize: '9.5pt',\n    alignItems: 'center'\n  }\n})\n\ninterface SelectEntry {\n  label: string\n  value: string\n}\n\ninterface ButtonProps {\n  defaultValue?: string\n  disabled?: boolean\n  entries: SelectEntry[]\n  label?: string\n  onChange?: (newValue: string) => void\n  style?: React.CSSProperties\n}\n\nexport default function Select(props: ButtonProps) {\n  const [value, setValue] = useState(props.defaultValue)\n\n  return (\n    <label>\n      {props.label || ''}\n      <select\n        value={value}\n        onChange={(e) => {\n          const newValue = e.target.value\n          setValue(newValue)\n          props.onChange && props.onChange(newValue)\n        }}\n        style={styles.select}\n        disabled={props.disabled}\n      >\n        {props.entries.map((entry) => (\n          <option value={entry.value} key={entry.value}>\n            {entry.label}\n          </option>\n        ))}\n      </select>\n    </label>\n  )\n}\n","import { useEffect, useState } from 'react'\nimport {\n  Database,\n  Question as IQuestion,\n  readDatabase,\n  section,\n  sheetDict\n} from '../../utils/database'\nimport { baseStyle } from '../../utils/style'\nimport Question from '../Util/Question'\nimport Select from '../Util/Select'\n\nexport default function QPreview() {\n  const [isCustom, setIsCustom] = useState(true)\n\n  return (\n    <div style={baseStyle}>\n      <Select\n        label=\"Question type\"\n        entries={[\n          { value: 'custom', label: 'Custom' },\n          { value: 'database', label: 'Database' }\n        ]}\n        defaultValue=\"custom\"\n        onChange={(v) => setIsCustom(v === 'custom')}\n      />\n      {isCustom ? <CustomQ /> : <DatabaseQ />}\n    </div>\n  )\n}\n\nfunction DatabaseQ() {\n  const [dbRef, setDbRef] = useState<'main' | 'stable'>('main')\n  const [dbs, setDbs] = useState({} as Record<string, Database | Error>)\n  const [section, setSection] = useState('')\n  const [id, setID] = useState('')\n\n  useEffect(() => {\n    if (!dbs[dbRef] && !(dbs.dbRef instanceof Error)) {\n      readDatabase(dbRef)\n        .then((db) => {\n          setDbs({ ...dbs, [dbRef]: db })\n        })\n        .catch((e) => {\n          setDbs({ ...dbs, [dbRef]: e })\n        })\n    }\n  }, [dbRef])\n\n  return (\n    <div>\n      <Select\n        label=\"Database\"\n        entries={[\n          { value: 'stable', label: 'Production' },\n          { value: 'main', label: 'Development' }\n        ]}\n        defaultValue={dbRef}\n        onChange={(v) => setDbRef(v as 'main' | 'stable')}\n      />\n      <Select\n        label=\"Section\"\n        entries={[\n          ...Object.entries(sheetDict).map(([key, value]) => ({\n            label: key,\n            value\n          })),\n          ...(section ? [] : [{ label: '', value: '' }])\n        ]}\n        defaultValue={''}\n        onChange={(v) => {\n          setSection(v)\n          setID('')\n        }}\n        disabled={!dbs[dbRef] || dbs[dbRef] instanceof Error}\n      />\n      <Select\n        label=\"ID\"\n        entries={[\n          ...(dbs[dbRef] && !(dbs[dbRef] instanceof Error) && section\n            ? (dbs[dbRef] as Database)[section as section]\n                .filter((q) => q.id)\n                .map((q) => ({\n                  label: q.id + (q.sub ? ' - ' + q.sub : ''),\n                  value: q.id + (q.sub ? ' - ' + q.sub : '')\n                }))\n            : []),\n          ...[{ label: '', value: '' }]\n        ]}\n        defaultValue={''}\n        onChange={setID}\n        disabled={!dbs[dbRef] || dbs[dbRef] instanceof Error || !section}\n      />\n\n      {!dbs[dbRef] ? (\n        'Loading database...'\n      ) : dbs[dbRef] instanceof Error ? (\n        'Error while loading database:\\n' + dbs[dbRef]\n      ) : section && id ? (\n        QuestionRender({\n          q: (dbs[dbRef] as Database)[section as section].find((q) => {\n            const [i, s] = id.split(' - ')\n            return q.id == i && (s ? q.sub == s : true)\n          }),\n          dbRef\n        })\n      ) : (\n        <></>\n      )}\n    </div>\n  )\n}\n\nfunction CustomQ() {\n  const [text, setText] = useState('')\n  const [a, setA] = useState('')\n  const [b, setB] = useState('')\n  const [c, setC] = useState('')\n  const [d, setD] = useState('')\n  const [e, setE] = useState('')\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const t = (f: (..._: any[]) => any) => (e: any) => f(e.target.value)\n\n  return (\n    <div>\n      <label>\n        Testo:\n        <br />\n        <textarea value={text} onChange={t(setText)}></textarea>\n      </label>\n      <br />\n\n      <label>\n        A:\n        <br />\n        <textarea value={a} onChange={t(setA)}></textarea>\n      </label>\n      <br />\n\n      <label>\n        B:\n        <br />\n        <textarea value={b} onChange={t(setB)}></textarea>\n      </label>\n      <br />\n\n      <label>\n        C:\n        <br />\n        <textarea value={c} onChange={t(setC)}></textarea>\n      </label>\n      <br />\n\n      <label>\n        D:\n        <br />\n        <textarea value={d} onChange={t(setD)}></textarea>\n      </label>\n      <br />\n\n      <label>\n        E:\n        <br />\n        <textarea value={e} onChange={t(setE)}></textarea>\n      </label>\n      <br />\n      <br />\n      <QuestionRender q={{ text, answers: { a, b, c, d, e } } as IQuestion} />\n    </div>\n  )\n}\n\ninterface QuestionRenderProps {\n  q?: IQuestion\n  dbRef?: 'stable' | 'main'\n}\nfunction QuestionRender(props: QuestionRenderProps) {\n  const { q, dbRef } = props\n\n  return <>{q && <Question q={q} isDebug showAttachments dbRef={dbRef} />}</>\n}\n","import { useEffect, useState } from 'react'\nimport { Routes, Route, useLocation } from 'react-router-dom'\nimport { RibbonContainer, RightCornerRibbon } from 'react-ribbons'\nimport {\n  answerLetter,\n  section,\n  Database,\n  QuestionsData,\n  readDatabase,\n  selectRandomQuestions\n} from '../utils/database'\nimport { StyleSheet } from '../utils/style'\nimport DBPreview from './pages/DBPreview'\nimport ErrorView from './ErrorView'\nimport Footer from './Footer'\nimport Header from './Header'\nimport InfoView from './InfoView/InfoView'\nimport About from './pages/About'\nimport { License } from './pages/License'\nimport Privacy from './pages/Privacy'\nimport QuestionsForm from './QuestionsForm/QuestionsForm'\nimport Separator from './Util/Separator'\nimport QPreview from './pages/QPreview'\n\nimport { MobileContext, TestProvider } from '../utils/contexts'\n\nexport type view = 'INFO-start' | 'TOL-testing' | 'TOL-secRecap' | 'INFO-end'\n\nexport interface Answer {\n  id: string\n  sub?: string\n  letter: answerLetter | undefined\n  flagged: boolean\n}\n\nexport type AnswersData = Record<section, Answer[]>\n\nexport type TimeRecord = Partial<Record<section, number>>\n\nconst styles = StyleSheet.create({\n  app: { paddingInline: '8px' },\n  routeContainer: { paddingInline: '7.5px' }\n})\n\nexport default function App() {\n  const [database, loadDatabase] = useState<Database>()\n  const [questions, setQuestions] = useState<QuestionsData>()\n  const [view, setView] = useState<view>('INFO-start')\n  const sectionState = useState<section>('ing')\n  const answersState = useState<AnswersData>({\n    ing: [],\n    mat: [],\n    com: [],\n    fis: []\n  })\n  const timeRecordState = useState<TimeRecord>({})\n  const [loadingError, showError] = useState<[string, Error] | []>([])\n  const [mobile, setMobile] = useState<boolean>(false)\n\n  useEffect(() => {\n    if (!database)\n      readDatabase()\n        .then((db) => {\n          loadDatabase(db)\n          setQuestions(selectRandomQuestions(db))\n        })\n        .catch((e) => {\n          showError([\n            'There has been an issue while fetching the database data. Please retry later.',\n            e\n          ])\n        })\n\n    setMobile(window.innerWidth < 768)\n    window.addEventListener('resize', () => {\n      setMobile(window.innerWidth < 768)\n    })\n  }, [])\n\n  const location = useLocation()\n\n  useEffect(() => {\n    const testPaths = ['/', '/test', '/results']\n    const testingURL = testPaths.includes(location.pathname)\n    if (!testingURL || view === 'INFO-start') {\n      // in other pages or on the start of the test, the listener shouldn't be set\n      window.onbeforeunload = null\n    } else if (view.startsWith('TOL')) {\n      // set the listener only if view is during a test, at the recap it is set in ExtendedCorrection.tsx\n      window.onbeforeunload = () => {\n        return 'Sicuro di voler uscire? Il test è ancora in corso'\n      }\n    }\n\n    if (location.pathname !== '/results') {\n      // restore default title\n      // title was changed in '/results' to save pdf\n      // on firefox android with date in filename\n      document.title = 'The TOL Project'\n    }\n  }, [view, location])\n\n  return (\n    <MobileContext.Provider value={{ mobile }}>\n      <TestProvider>\n        <RibbonContainer>\n          {window &&\n            new URL(window.location.href).hostname ==\n              'polinetworkorg.github.io' && (\n              <RightCornerRibbon backgroundColor=\"#cc0000\" color=\"white\">\n                DEV\n              </RightCornerRibbon>\n            )}\n          <div style={styles.app}>\n            <Header viewState={[view, setView]} />\n            <Separator />\n            <div style={styles.routeContainer}>\n              <Routes>\n                <Route\n                  path=\"/\"\n                  element={\n                    // Don't ever think about moving this to an external component.\n                    <div>\n                      <ErrorView\n                        hidden={!loadingError[0]}\n                        display={loadingError[0] || ''}\n                        internal={loadingError[1]}\n                      />\n                      {view.startsWith('TOL') && questions ? (\n                        <QuestionsForm\n                          answersState={answersState}\n                          questions={questions as QuestionsData}\n                          sectionState={sectionState}\n                          timeRecordState={timeRecordState}\n                          viewState={[view, setView]}\n                        />\n                      ) : view.startsWith('INFO') && questions ? (\n                        <InfoView\n                          answers={answersState[0]}\n                          questions={questions}\n                          viewState={[view, setView]}\n                        />\n                      ) : undefined}\n                    </div>\n                  }\n                >\n                  <Route path=\"/test\" element={<div />} />\n                  <Route path=\"/results\" element={<div />} />\n                </Route>\n                <Route path=\"/about\" element={<About />} />\n                <Route path=\"/license\" element={<License />} />\n                <Route path=\"/privacy\" element={<Privacy />} />\n                <Route\n                  path=\"/dbpreview\"\n                  element={<DBPreview db={database} />}\n                />\n                <Route path=\"/qpreview\" element={<QPreview />} />\n              </Routes>\n            </div>\n            <Separator />\n            {!view.startsWith('TOL') && view != 'INFO-end' && (\n              <Footer view={view} />\n            )}\n          </div>\n        </RibbonContainer>\n      </TestProvider>\n    </MobileContext.Provider>\n  )\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { HashRouter } from 'react-router-dom'\nimport * as PanelBear from '@panelbear/panelbear-js'\nexport * as PanelBear from '@panelbear/panelbear-js'\n\nimport App from './components/App'\n\nPanelBear.load('5FyulkL10oK')\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}